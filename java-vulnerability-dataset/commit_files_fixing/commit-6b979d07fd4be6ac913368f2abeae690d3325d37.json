{
    "sha": "6b979d07fd4be6ac913368f2abeae690d3325d37",
    "node_id": "MDY6Q29tbWl0MjA2MzE3OjZiOTc5ZDA3ZmQ0YmU2YWM5MTMzNjhmMmFiZWFlNjkwZDMzMjVkMzc=",
    "commit": {
        "author": {
            "name": "lburgazzoli",
            "email": "lburgazzoli@gmail.com",
            "date": "2016-12-09T14:57:51Z"
        },
        "committer": {
            "name": "lburgazzoli",
            "email": "lburgazzoli@gmail.com",
            "date": "2016-12-09T14:57:51Z"
        },
        "message": "CAMEL-10575: snakeyaml: add an option to filter classes the yaml parser can construct",
        "tree": {
            "sha": "4e228e152419b77d165b6a11e3fee20ae117756d",
            "url": "https://api.github.com/repos/apache/camel/git/trees/4e228e152419b77d165b6a11e3fee20ae117756d"
        },
        "url": "https://api.github.com/repos/apache/camel/git/commits/6b979d07fd4be6ac913368f2abeae690d3325d37",
        "comment_count": 0,
        "verification": {
            "verified": true,
            "reason": "valid",
            "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v2\n\niQIzBAABCAAdBQJYSsZvFhxsYnVyZ2F6em9saUBnbWFpbC5jb20ACgkQI4xGpAUQ\nwamnDA//R7M11HHW/TuuW1Pu2DlnQz+SlUS1xjb3PQupD16cQyATye1/mcqhHjx8\nscQ8mwd2JMi4fTFUTdrhFtb2sghWXd7tMsnbu1QqLORLRMcIQ/i/b2ojenIleop9\nEGDj4TpYFw/8z8cVugHW10ZNfLL4BMirU3Je6LZFyb5qPtLe69+mpghHH+STX7BG\nQDelz2dTwD4icnSQekQRKKX03jDW2pbDPmpd51Zxx6LonoVmqx5pUnEqifSh420p\n+KuHz8HqSkj4wUktZwiJ/k4UHRA2q9TFZuWLXqUgoTi1XcWizMiu55WVxPUUXopT\nmCeNVkvrXLOITZPixUw2fHbYcSh9S7AuoxqSaOvO4tikSatuJbSOeh9eO7v22Jm/\n9gRxYDPUiQSBGOAK831JiCtPN6fWebveH4rZeLkZdzM9hOdEhpU/EesqQ/qR2QIJ\n1UmcmJM3yWdm7fASILECi4/FHF1pzqJoZ2nbmPkX5nLdw7eyGsaNoTWhqZSL7VWx\nbe8RWatIpoojx7n+kKYhdqe1Uzegnxk/H9ouDRdifVX3wrTulZluZEGk7Niu2sZd\npOGntEKbqK1a33RlVSsVkjUho5fjBxP47/L+i2TyF+4IQ5ofxb8nxzhKHviQZleT\nZSTBdZNF6G+POSI+FgMwAWGoH44li1oiyE5Vx0B780rGORW5bMU=\n=HW1U\n-----END PGP SIGNATURE-----",
            "payload": "tree 4e228e152419b77d165b6a11e3fee20ae117756d\nparent 65a56ad900d434f09430998772e892243e9dcbcd\nauthor lburgazzoli <lburgazzoli@gmail.com> 1481295471 +0100\ncommitter lburgazzoli <lburgazzoli@gmail.com> 1481295471 +0100\n\nCAMEL-10575: snakeyaml: add an option to filter classes the yaml parser can construct\n",
            "verified_at": "2024-11-08T07:40:33Z"
        }
    },
    "url": "https://api.github.com/repos/apache/camel/commits/6b979d07fd4be6ac913368f2abeae690d3325d37",
    "html_url": "https://github.com/apache/camel/commit/6b979d07fd4be6ac913368f2abeae690d3325d37",
    "comments_url": "https://api.github.com/repos/apache/camel/commits/6b979d07fd4be6ac913368f2abeae690d3325d37/comments",
    "author": {
        "login": "lburgazzoli",
        "id": 1868933,
        "node_id": "MDQ6VXNlcjE4Njg5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1868933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lburgazzoli",
        "html_url": "https://github.com/lburgazzoli",
        "followers_url": "https://api.github.com/users/lburgazzoli/followers",
        "following_url": "https://api.github.com/users/lburgazzoli/following{/other_user}",
        "gists_url": "https://api.github.com/users/lburgazzoli/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/lburgazzoli/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lburgazzoli/subscriptions",
        "organizations_url": "https://api.github.com/users/lburgazzoli/orgs",
        "repos_url": "https://api.github.com/users/lburgazzoli/repos",
        "events_url": "https://api.github.com/users/lburgazzoli/events{/privacy}",
        "received_events_url": "https://api.github.com/users/lburgazzoli/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
    },
    "committer": {
        "login": "lburgazzoli",
        "id": 1868933,
        "node_id": "MDQ6VXNlcjE4Njg5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1868933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lburgazzoli",
        "html_url": "https://github.com/lburgazzoli",
        "followers_url": "https://api.github.com/users/lburgazzoli/followers",
        "following_url": "https://api.github.com/users/lburgazzoli/following{/other_user}",
        "gists_url": "https://api.github.com/users/lburgazzoli/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/lburgazzoli/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lburgazzoli/subscriptions",
        "organizations_url": "https://api.github.com/users/lburgazzoli/orgs",
        "repos_url": "https://api.github.com/users/lburgazzoli/repos",
        "events_url": "https://api.github.com/users/lburgazzoli/events{/privacy}",
        "received_events_url": "https://api.github.com/users/lburgazzoli/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
    },
    "parents": [
        {
            "sha": "65a56ad900d434f09430998772e892243e9dcbcd",
            "url": "https://api.github.com/repos/apache/camel/commits/65a56ad900d434f09430998772e892243e9dcbcd",
            "html_url": "https://github.com/apache/camel/commit/65a56ad900d434f09430998772e892243e9dcbcd"
        }
    ],
    "stats": {
        "total": 6,
        "additions": 4,
        "deletions": 2
    },
    "files": [
        {
            "sha": "e88994b98fbd9df91de9fbee0799b5caa9e3fd26",
            "filename": "components/camel-snakeyaml/src/main/java/org/apache/camel/component/snakeyaml/SnakeYAMLDataFormat.java",
            "status": "modified",
            "additions": 4,
            "deletions": 2,
            "changes": 6,
            "blob_url": "https://github.com/apache/camel/blob/6b979d07fd4be6ac913368f2abeae690d3325d37/components%2Fcamel-snakeyaml%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLDataFormat.java",
            "raw_url": "https://github.com/apache/camel/raw/6b979d07fd4be6ac913368f2abeae690d3325d37/components%2Fcamel-snakeyaml%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLDataFormat.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLDataFormat.java?ref=6b979d07fd4be6ac913368f2abeae690d3325d37",
            "patch": "@@ -51,7 +51,7 @@\n  * A <a href=\"http://camel.apache.org/data-format.html\">data format</a> ({@link DataFormat})\n  * using <a href=\"http://www.snakeyaml.org\">SnakeYAML</a> to marshal to and from YAML.\n  */\n-public final class SnakeYAMLDataFormat extends ServiceSupport implements DataFormat, DataFormatName {\n+public class SnakeYAMLDataFormat extends ServiceSupport implements DataFormat, DataFormatName {\n     private final ThreadLocal<WeakReference<Yaml>> yamlCache;\n     private BaseConstructor constructor;\n     private Representer representer;\n@@ -77,7 +77,9 @@ public SnakeYAMLDataFormat(Class<?> type) {\n         this.allowAnyType = false;\n \n         if (type != null) {\n-            setUnmarshalType(type);\n+            this.unmarshalType = type;\n+            this.typeFilters = new CopyOnWriteArrayList<>();\n+            this.typeFilters.add(TypeFilters.types(type));\n         }\n     }\n "
        }
    ]
}