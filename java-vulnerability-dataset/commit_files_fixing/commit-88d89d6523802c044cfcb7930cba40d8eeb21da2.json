{
    "sha": "88d89d6523802c044cfcb7930cba40d8eeb21da2",
    "node_id": "MDY6Q29tbWl0MTYxMDA1Ojg4ZDg5ZDY1MjM4MDJjMDQ0Y2ZjYjc5MzBjYmE0MGQ4ZWViMjFkYTI=",
    "commit": {
        "author": {
            "name": "juanpablo",
            "email": "juanpablo@apache.org",
            "date": "2019-03-21T22:06:20Z"
        },
        "committer": {
            "name": "juanpablo",
            "email": "juanpablo@apache.org",
            "date": "2019-03-21T22:06:20Z"
        },
        "message": "JSPWIKI-1095: DefaultURLConstructor#getForwardPage( HttpServletRequest req ) now always returns \"Wiki.jsp\"",
        "tree": {
            "sha": "e40f3fe60cdfe206fafa0fd7c8dfc80cfeaabf8f",
            "url": "https://api.github.com/repos/apache/jspwiki/git/trees/e40f3fe60cdfe206fafa0fd7c8dfc80cfeaabf8f"
        },
        "url": "https://api.github.com/repos/apache/jspwiki/git/commits/88d89d6523802c044cfcb7930cba40d8eeb21da2",
        "comment_count": 0,
        "verification": {
            "verified": false,
            "reason": "unsigned",
            "signature": null,
            "payload": null,
            "verified_at": null
        }
    },
    "url": "https://api.github.com/repos/apache/jspwiki/commits/88d89d6523802c044cfcb7930cba40d8eeb21da2",
    "html_url": "https://github.com/apache/jspwiki/commit/88d89d6523802c044cfcb7930cba40d8eeb21da2",
    "comments_url": "https://api.github.com/repos/apache/jspwiki/commits/88d89d6523802c044cfcb7930cba40d8eeb21da2/comments",
    "author": {
        "login": "juanpablo-santos",
        "id": 1218530,
        "node_id": "MDQ6VXNlcjEyMTg1MzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1218530?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/juanpablo-santos",
        "html_url": "https://github.com/juanpablo-santos",
        "followers_url": "https://api.github.com/users/juanpablo-santos/followers",
        "following_url": "https://api.github.com/users/juanpablo-santos/following{/other_user}",
        "gists_url": "https://api.github.com/users/juanpablo-santos/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/juanpablo-santos/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/juanpablo-santos/subscriptions",
        "organizations_url": "https://api.github.com/users/juanpablo-santos/orgs",
        "repos_url": "https://api.github.com/users/juanpablo-santos/repos",
        "events_url": "https://api.github.com/users/juanpablo-santos/events{/privacy}",
        "received_events_url": "https://api.github.com/users/juanpablo-santos/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
    },
    "committer": {
        "login": "juanpablo-santos",
        "id": 1218530,
        "node_id": "MDQ6VXNlcjEyMTg1MzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1218530?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/juanpablo-santos",
        "html_url": "https://github.com/juanpablo-santos",
        "followers_url": "https://api.github.com/users/juanpablo-santos/followers",
        "following_url": "https://api.github.com/users/juanpablo-santos/following{/other_user}",
        "gists_url": "https://api.github.com/users/juanpablo-santos/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/juanpablo-santos/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/juanpablo-santos/subscriptions",
        "organizations_url": "https://api.github.com/users/juanpablo-santos/orgs",
        "repos_url": "https://api.github.com/users/juanpablo-santos/repos",
        "events_url": "https://api.github.com/users/juanpablo-santos/events{/privacy}",
        "received_events_url": "https://api.github.com/users/juanpablo-santos/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
    },
    "parents": [
        {
            "sha": "f140a2a4371735ad24d04a1d78c6e1d9ceaed76f",
            "url": "https://api.github.com/repos/apache/jspwiki/commits/f140a2a4371735ad24d04a1d78c6e1d9ceaed76f",
            "html_url": "https://github.com/apache/jspwiki/commit/f140a2a4371735ad24d04a1d78c6e1d9ceaed76f"
        }
    ],
    "stats": {
        "total": 64,
        "additions": 63,
        "deletions": 1
    },
    "files": [
        {
            "sha": "4404f42b7156e9d7bb187db4dae46785c1283fc4",
            "filename": "jspwiki-main/src/main/java/org/apache/wiki/url/DefaultURLConstructor.java",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/apache/jspwiki/blob/88d89d6523802c044cfcb7930cba40d8eeb21da2/jspwiki-main%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fwiki%2Furl%2FDefaultURLConstructor.java",
            "raw_url": "https://github.com/apache/jspwiki/raw/88d89d6523802c044cfcb7930cba40d8eeb21da2/jspwiki-main%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fwiki%2Furl%2FDefaultURLConstructor.java",
            "contents_url": "https://api.github.com/repos/apache/jspwiki/contents/jspwiki-main%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fwiki%2Furl%2FDefaultURLConstructor.java?ref=88d89d6523802c044cfcb7930cba40d8eeb21da2",
            "patch": "@@ -277,6 +277,6 @@ else if( name.charAt(0) == '/' )\n      */\n     public String getForwardPage( HttpServletRequest request )\n     {\n-        return request.getPathInfo();\n+        return \"Wiki.jsp\";\n     }\n }"
        },
        {
            "sha": "dd991448b8652cf76eb49b02580c3f37028fcb10",
            "filename": "jspwiki-main/src/test/java/org/apache/wiki/WikiServletTest.java",
            "status": "added",
            "additions": 62,
            "deletions": 0,
            "changes": 62,
            "blob_url": "https://github.com/apache/jspwiki/blob/88d89d6523802c044cfcb7930cba40d8eeb21da2/jspwiki-main%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fwiki%2FWikiServletTest.java",
            "raw_url": "https://github.com/apache/jspwiki/raw/88d89d6523802c044cfcb7930cba40d8eeb21da2/jspwiki-main%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fwiki%2FWikiServletTest.java",
            "contents_url": "https://api.github.com/repos/apache/jspwiki/contents/jspwiki-main%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fwiki%2FWikiServletTest.java?ref=88d89d6523802c044cfcb7930cba40d8eeb21da2",
            "patch": "@@ -0,0 +1,62 @@\n+/*\n+    Licensed to the Apache Software Foundation (ASF) under one\n+    or more contributor license agreements.  See the NOTICE file\n+    distributed with this work for additional information\n+    regarding copyright ownership.  The ASF licenses this file\n+    to you under the Apache License, Version 2.0 (the\n+    \"License\"); you may not use this file except in compliance\n+    with the License.  You may obtain a copy of the License at\n+\n+       http://www.apache.org/licenses/LICENSE-2.0\n+\n+    Unless required by applicable law or agreed to in writing,\n+    software distributed under the License is distributed on an\n+    \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+    KIND, either express or implied.  See the License for the\n+    specific language governing permissions and limitations\n+    under the License.\n+ */\n+package org.apache.wiki;\n+\n+import org.junit.jupiter.api.Assertions;\n+import org.junit.jupiter.api.Test;\n+\n+import net.sourceforge.stripes.mock.MockHttpServletRequest;\n+import net.sourceforge.stripes.mock.MockHttpServletResponse;\n+import net.sourceforge.stripes.mock.MockServletConfig;\n+import net.sourceforge.stripes.mock.MockServletContext;\n+\n+\n+public class WikiServletTest {\n+    \n+    @Test\n+    public void testDoGet() throws Exception {\n+        MockHttpServletRequest req = new MockHttpServletRequest( \"/JSPWiki\", \"/wiki/Wiki.jsp\" );\n+        MockHttpServletResponse res = new MockHttpServletResponse();\n+        WikiServlet wikiServlet = new WikiServlet();\n+        MockServletConfig config = new MockServletConfig();\n+        config.setServletContext( new MockServletContext( \"/JSPWiki\" ) );\n+        \n+        wikiServlet.init( config );\n+        wikiServlet.doGet( req, res );\n+        wikiServlet.destroy();\n+        \n+        Assertions.assertEquals( \"/Wiki.jsp?page=wiki%2FWiki.jsp&\", req.getForwardUrl() );\n+    }\n+    \n+    @Test\n+    public void testNastyDoPost() throws Exception {\n+        MockHttpServletRequest req = new MockHttpServletRequest( \"/JSPWiki\", \"/wiki/Edit.jsp\" );\n+        MockHttpServletResponse res = new MockHttpServletResponse();\n+        WikiServlet wikiServlet = new WikiServlet();\n+        MockServletConfig config = new MockServletConfig();\n+        config.setServletContext( new MockServletContext( \"/JSPWiki\" ) );\n+        \n+        wikiServlet.init( config );\n+        wikiServlet.doPost( req, res );\n+        wikiServlet.destroy();\n+        \n+        Assertions.assertEquals( \"/Wiki.jsp?page=Edit.jsp&\", req.getForwardUrl() );\n+    }\n+\n+}"
        }
    ]
}