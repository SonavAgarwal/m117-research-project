{
    "sha": "20e26226107f3133c87d0f5c845e02f824823f69",
    "node_id": "MDY6Q29tbWl0MjA2MzE3OjIwZTI2MjI2MTA3ZjMxMzNjODdkMGY1Yzg0NWUwMmY4MjQ4MjNmNjk=",
    "commit": {
        "author": {
            "name": "lburgazzoli",
            "email": "lburgazzoli@gmail.com",
            "date": "2016-12-08T15:28:14Z"
        },
        "committer": {
            "name": "lburgazzoli",
            "email": "lburgazzoli@gmail.com",
            "date": "2016-12-09T13:17:34Z"
        },
        "message": "CAMEL-10575: snakeyaml: add an option to filter classes the yaml parser can construct",
        "tree": {
            "sha": "79c942757acf7ccccca0909d129df1f7176d763c",
            "url": "https://api.github.com/repos/apache/camel/git/trees/79c942757acf7ccccca0909d129df1f7176d763c"
        },
        "url": "https://api.github.com/repos/apache/camel/git/commits/20e26226107f3133c87d0f5c845e02f824823f69",
        "comment_count": 0,
        "verification": {
            "verified": true,
            "reason": "valid",
            "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v2\n\niQIzBAABCAAdBQJYSq7uFhxsYnVyZ2F6em9saUBnbWFpbC5jb20ACgkQI4xGpAUQ\nwanVRA//ehsDE+Vh0Nnx6yesnWhMt34L1lRPabgp2eaIzFOCVwNDW5ZTFWEL5oqx\ncoClBEeLP63cepNX9EDrzMrzBUkjXLUdHFAXr1tl16yuFluja1MTq/HxcIBGbulB\nbaMj7/N4M4rtEU7pFGh5u6oDfg/6/tm6SbkozjYWgyuK7zWGeTej9/soNdDH0/hU\nRMGBHMA5AePVb0WOsTJe2h/o7yDfkZyNGIH7QA4if88/zDwoQZAkHzTwqbVZ+/Ii\n7DSW5ohXw7LDqDW7Nd0NEHYwVHZppmVblb6eY7eQq8tPD6a1mtdtqgX35wtOHsQN\nxK1HsdKOblSFan9o89SIax9q/otMpJNiiHoLrBKYefyc9Wh/qDGNWirA//MdQlDZ\nWCtCq8IspaL2PHn0IWFXKfpwWU6Oixf9L8moHkVlSzQddKSCaV98LjFaDLRqMTZ+\npL95XYtLYb69YLeYyqxeuZACTD+PbP87rcqQkNaw1VAaT8fYM+fzf6tErSFUiJJx\nKXJbzpNY6n2PXYoBeUhbsf3DOE8WtvMjXwFmduwIcvcwyUeP3U8eCx6rKzGAPTN4\nuwPQBMQ4ZtHoyhTkyJx5BmgIHuiH6xwxm5mclYZaOup70YvFxCrTmrZ0ChSaGeC9\nKGru0v5v5JDfZ+mDDh0dwGyFElirku6lRrhDSZoseW0JcPo6PRM=\n=Z8zq\n-----END PGP SIGNATURE-----",
            "payload": "tree 79c942757acf7ccccca0909d129df1f7176d763c\nparent 9e9a86bbdac88d5be74ab8340165f618e565b29c\nauthor lburgazzoli <lburgazzoli@gmail.com> 1481210894 +0100\ncommitter lburgazzoli <lburgazzoli@gmail.com> 1481289454 +0100\n\nCAMEL-10575: snakeyaml: add an option to filter classes the yaml parser can construct\n",
            "verified_at": "2024-11-09T13:36:54Z"
        }
    },
    "url": "https://api.github.com/repos/apache/camel/commits/20e26226107f3133c87d0f5c845e02f824823f69",
    "html_url": "https://github.com/apache/camel/commit/20e26226107f3133c87d0f5c845e02f824823f69",
    "comments_url": "https://api.github.com/repos/apache/camel/commits/20e26226107f3133c87d0f5c845e02f824823f69/comments",
    "author": {
        "login": "lburgazzoli",
        "id": 1868933,
        "node_id": "MDQ6VXNlcjE4Njg5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1868933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lburgazzoli",
        "html_url": "https://github.com/lburgazzoli",
        "followers_url": "https://api.github.com/users/lburgazzoli/followers",
        "following_url": "https://api.github.com/users/lburgazzoli/following{/other_user}",
        "gists_url": "https://api.github.com/users/lburgazzoli/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/lburgazzoli/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lburgazzoli/subscriptions",
        "organizations_url": "https://api.github.com/users/lburgazzoli/orgs",
        "repos_url": "https://api.github.com/users/lburgazzoli/repos",
        "events_url": "https://api.github.com/users/lburgazzoli/events{/privacy}",
        "received_events_url": "https://api.github.com/users/lburgazzoli/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
    },
    "committer": {
        "login": "lburgazzoli",
        "id": 1868933,
        "node_id": "MDQ6VXNlcjE4Njg5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1868933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/lburgazzoli",
        "html_url": "https://github.com/lburgazzoli",
        "followers_url": "https://api.github.com/users/lburgazzoli/followers",
        "following_url": "https://api.github.com/users/lburgazzoli/following{/other_user}",
        "gists_url": "https://api.github.com/users/lburgazzoli/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/lburgazzoli/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/lburgazzoli/subscriptions",
        "organizations_url": "https://api.github.com/users/lburgazzoli/orgs",
        "repos_url": "https://api.github.com/users/lburgazzoli/repos",
        "events_url": "https://api.github.com/users/lburgazzoli/events{/privacy}",
        "received_events_url": "https://api.github.com/users/lburgazzoli/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
    },
    "parents": [
        {
            "sha": "9e9a86bbdac88d5be74ab8340165f618e565b29c",
            "url": "https://api.github.com/repos/apache/camel/commits/9e9a86bbdac88d5be74ab8340165f618e565b29c",
            "html_url": "https://github.com/apache/camel/commit/9e9a86bbdac88d5be74ab8340165f618e565b29c"
        }
    ],
    "stats": {
        "total": 1245,
        "additions": 1120,
        "deletions": 125
    },
    "files": [
        {
            "sha": "d97f9cc5b9f70506961bfd1b7420fc6fdbd973c0",
            "filename": "camel-core/src/main/java/org/apache/camel/model/dataformat/YAMLDataFormat.java",
            "status": "modified",
            "additions": 51,
            "deletions": 0,
            "changes": 51,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/camel-core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fmodel%2Fdataformat%2FYAMLDataFormat.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/camel-core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fmodel%2Fdataformat%2FYAMLDataFormat.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/camel-core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fmodel%2Fdataformat%2FYAMLDataFormat.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -16,9 +16,12 @@\n  */\n package org.apache.camel.model.dataformat;\n \n+import java.util.ArrayList;\n+import java.util.List;\n import javax.xml.bind.annotation.XmlAccessType;\n import javax.xml.bind.annotation.XmlAccessorType;\n import javax.xml.bind.annotation.XmlAttribute;\n+import javax.xml.bind.annotation.XmlElement;\n import javax.xml.bind.annotation.XmlRootElement;\n import javax.xml.bind.annotation.XmlTransient;\n \n@@ -58,6 +61,10 @@ public class YAMLDataFormat extends DataFormatDefinition {\n     private Boolean useApplicationContextClassLoader = true;\n     @XmlAttribute @Metadata(defaultValue = \"false\")\n     private Boolean prettyFlow = false;\n+    @XmlAttribute @Metadata(defaultValue = \"false\")\n+    private Boolean allowAnyType = false;\n+    @XmlElement(name = \"typeFilter\")\n+    private List<YAMLTypeFilterDefinition> typeFilters;\n \n     public YAMLDataFormat() {\n         this(YAMLLibrary.SnakeYAML);\n@@ -188,6 +195,28 @@ public void setPrettyFlow(boolean prettyFlow) {\n         this.prettyFlow = prettyFlow;\n     }\n \n+    public boolean isAllowAnyType() {\n+        return allowAnyType;\n+    }\n+\n+    /**\n+     * Allow any class to be un-marshaled\n+     */\n+    public void setAllowAnyType(boolean allowAnyType) {\n+        this.allowAnyType = allowAnyType;\n+    }\n+\n+    public List<YAMLTypeFilterDefinition> getTypeFilters() {\n+        return typeFilters;\n+    }\n+\n+    /**\n+     * Set the types SnakeYAML is allowed to un-marshall\n+     */\n+    public void setTypeFilters(List<YAMLTypeFilterDefinition> typeFilters) {\n+        this.typeFilters = typeFilters;\n+    }\n+\n     @Override\n     protected DataFormat createDataFormat(RouteContext routeContext) {\n         if (library == YAMLLibrary.SnakeYAML) {\n@@ -218,6 +247,27 @@ protected void configureSnakeDataFormat(DataFormat dataFormat, CamelContext came\n         setProperty(dataFormat, camelContext, \"classLoader\", classLoader);\n         setProperty(dataFormat, camelContext, \"useApplicationContextClassLoader\", useApplicationContextClassLoader);\n         setProperty(dataFormat, camelContext, \"prettyFlow\", prettyFlow);\n+        setProperty(dataFormat, camelContext, \"allowAnyType\", allowAnyType);\n+\n+        if (typeFilters != null && !typeFilters.isEmpty()) {\n+            List<String> typeFilterDefinitions = new ArrayList<>(typeFilters.size());\n+            for (YAMLTypeFilterDefinition definition : typeFilters) {\n+                String value = definition.getValue();\n+\n+                if (!value.startsWith(\"type\") && !value.startsWith(\"regexp\")) {\n+                    YAMLTypeFilterType type = definition.getType();\n+                    if (type == null) {\n+                        type = YAMLTypeFilterType.type;\n+                    }\n+\n+                    value = type.name() + \":\" + value;\n+                }\n+\n+                typeFilterDefinitions.add(value);\n+            }\n+\n+            setProperty(dataFormat, camelContext, \"typeFilterDefinitions\", typeFilterDefinitions);\n+        }\n \n         setPropertyRef(dataFormat, camelContext, \"constructor\", constructor);\n         setPropertyRef(dataFormat, camelContext, \"representer\", representer);\n@@ -238,4 +288,5 @@ protected void setPropertyRef(DataFormat dataFormat, CamelContext camelContext,\n             setProperty(camelContext, dataFormat, propertyName, ref);\n         }\n     }\n+\n }"
        },
        {
            "sha": "8e4babb92ba85b4fe1c5093334f38acd46ea7266",
            "filename": "camel-core/src/main/java/org/apache/camel/model/dataformat/YAMLTypeFilterDefinition.java",
            "status": "added",
            "additions": 47,
            "deletions": 0,
            "changes": 47,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/camel-core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fmodel%2Fdataformat%2FYAMLTypeFilterDefinition.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/camel-core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fmodel%2Fdataformat%2FYAMLTypeFilterDefinition.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/camel-core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fmodel%2Fdataformat%2FYAMLTypeFilterDefinition.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -0,0 +1,47 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.camel.model.dataformat;\n+\n+import javax.xml.bind.annotation.XmlAccessType;\n+import javax.xml.bind.annotation.XmlAccessorType;\n+import javax.xml.bind.annotation.XmlAttribute;\n+import javax.xml.bind.annotation.XmlRootElement;\n+\n+@XmlRootElement(name = \"typeFilter\")\n+@XmlAccessorType(XmlAccessType.FIELD)\n+public final class YAMLTypeFilterDefinition {\n+    @XmlAttribute\n+    private String value;\n+    @XmlAttribute\n+    private YAMLTypeFilterType type;\n+\n+    public String getValue() {\n+        return value;\n+    }\n+\n+    public void setValue(String value) {\n+        this.value = value;\n+    }\n+\n+    public YAMLTypeFilterType getType() {\n+        return type;\n+    }\n+\n+    public void setType(YAMLTypeFilterType type) {\n+        this.type = type;\n+    }\n+}"
        },
        {
            "sha": "727b2d7cad03dfe70e648a4045410875f13ccc82",
            "filename": "camel-core/src/main/java/org/apache/camel/model/dataformat/YAMLTypeFilterType.java",
            "status": "added",
            "additions": 26,
            "deletions": 0,
            "changes": 26,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/camel-core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fmodel%2Fdataformat%2FYAMLTypeFilterType.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/camel-core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fmodel%2Fdataformat%2FYAMLTypeFilterType.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/camel-core%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fmodel%2Fdataformat%2FYAMLTypeFilterType.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -0,0 +1,26 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.camel.model.dataformat;\n+\n+import javax.xml.bind.annotation.XmlEnum;\n+\n+@XmlEnum\n+public enum YAMLTypeFilterType {\n+    type,\n+    regexp\n+}"
        },
        {
            "sha": "f019c8523d3cb573b430c3351f250f9c29885df5",
            "filename": "components/camel-snakeyaml/pom.xml",
            "status": "modified",
            "additions": 5,
            "deletions": 1,
            "changes": 6,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fpom.xml",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fpom.xml",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fpom.xml?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -45,13 +45,17 @@\n             <artifactId>snakeyaml</artifactId>\n             <version>${snakeyaml-version}</version>\n         </dependency>\n-\n         <!-- testing -->\n         <dependency>\n             <groupId>org.apache.camel</groupId>\n             <artifactId>camel-test-spring</artifactId>\n             <scope>test</scope>\n         </dependency>\n+        <dependency>\n+            <groupId>org.apache.camel</groupId>\n+            <artifactId>camel-test-blueprint</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n         <dependency>\n             <groupId>org.apache.logging.log4j</groupId>\n             <artifactId>log4j-api</artifactId>"
        },
        {
            "sha": "702a875505b13cc48f98c67643cbc90828f4a971",
            "filename": "components/camel-snakeyaml/src/main/docs/yaml-snakeyaml-dataformat.adoc",
            "status": "modified",
            "additions": 77,
            "deletions": 68,
            "changes": 145,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Fmain%2Fdocs%2Fyaml-snakeyaml-dataformat.adoc",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Fmain%2Fdocs%2Fyaml-snakeyaml-dataformat.adoc",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Fmain%2Fdocs%2Fyaml-snakeyaml-dataformat.adoc?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -14,34 +14,12 @@ Every library requires adding the special camel component (see\n \"Dependency...\" paragraphs further down). By default Camel uses the\n SnakeYAML library.\n \n-[[YAMLDataFormat-UsingYAMLdataformatwiththeSnakeYAMLlibrary]]\n-Using YAML data format with the SnakeYAML library\n-^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-[source,java]\n-------------------------------------------------------------\n-// lets turn Object messages into yaml then send to MQSeries\n-from(\"activemq:My.Queue\")\n-  .marshal().yaml()\n-  .to(\"mqseries:Another.Queue\");\n-------------------------------------------------------------\n-\n-[source,java]\n-------------------------------------------------------------\n-// lets turn Object messages into yaml then send to MQSeries\n-from(\"activemq:My.Queue\")\n-  .marshal().yaml(YAMLLibrary.SnakeYAML)\n-  .to(\"mqseries:Another.Queue\");\n-------------------------------------------------------------\n-\n [[YAML-Options]]\n YAML Options\n ^^^^^^^^^^^^\n \n-\n-\n // dataformat options: START\n-The YAML SnakeYAML dataformat supports 8 options which are listed below.\n+The YAML SnakeYAML dataformat supports 10 options which are listed below.\n \n \n \n@@ -57,11 +35,48 @@ The YAML SnakeYAML dataformat supports 8 options which are listed below.\n | resolver |  | String | Resolver to detect implicit type\n | useApplicationContextClassLoader | true | Boolean | Use ApplicationContextClassLoader as custom ClassLoader\n | prettyFlow | false | Boolean | Force the emitter to produce a pretty YAML document when using the flow style.\n+| allowAnyType | false | Boolean | Allow any class to be un-marshaled\n+| typeFilter |  | List | Set the types SnakeYAML is allowed to un-marshall\n |=======================================================================\n {% endraw %}\n // dataformat options: END\n \n+WARNING: SnakeYAML can load any class from YAML definition which may lead to security breach so by default, SnakeYAML DataForma restrict the object it can load to standard Java objects like List or Long. If you want to load custom POJOs you need to add theirs type to SnakeYAML DataFormat type filter list. If your source is trusted, you can set the property allowAnyType to true so SnakeYAML DataForma won't perform any filter on the types.\n \n+[[YAMLDataFormat-UsingYAMLdataformatwiththeSnakeYAMLlibrary]]\n+Using YAML data format with the SnakeYAML library\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+- Turn Object messages into yaml then send to MQSeries\n++\n+[source,java]\n+------------------------------------------------------------\n+from(\"activemq:My.Queue\")\n+  .marshal().yaml()\n+  .to(\"mqseries:Another.Queue\");\n+------------------------------------------------------------\n++\n+[source,java]\n+------------------------------------------------------------\n+from(\"activemq:My.Queue\")\n+  .marshal().yaml(YAMLLibrary.SnakeYAML)\n+  .to(\"mqseries:Another.Queue\");\n+------------------------------------------------------------\n+\n+- Restrict classes to be loaded from YAML\n++\n+[source,java]\n+------------------------------------------------------------\n+// Creat a SnakeYAMLDataFormat instance\n+SnakeYAMLDataFormat yaml = new SnakeYAMLDataFormat();\n+\n+// Restrict classes to be loaded from YAML\n+yaml.addTypeFilters(TypeFilters.types(MyPojo.class, MyOtherPojo.class));\n+\n+from(\"activemq:My.Queue\")\n+  .unmarshal(yaml)\n+  .to(\"mqseries:Another.Queue\");\n+------------------------------------------------------------\n \n [[YAMLDataFormat-UsingYAMLinSpringDSL]]\n Using YAML in Spring DSL\n@@ -72,56 +87,50 @@ declare the data formats first. This is done in the\u00a0*DataFormats*\u00a0XML\n tag.\n \n [source,xml]\n-----------------------------------------------------------------------------------------------------------------------------------\n-        <dataFormats>\n-            <!-- here we define a YAML data format with the id snak and that it should use the TestPojo as the class type when\n-                 doing unmarshal. The unmarshalTypeName is optional, if not provided Camel will use a Object.class as the type -->\n-            <yaml id=\"snake\" library=\"SnakeYAML\" unmarshalTypeName=\"org.apache.camel.component.yaml.model.TestPojo\"/>\n-        </dataFormats>\n-----------------------------------------------------------------------------------------------------------------------------------\n-\n-And then you can refer to this id in the route:\n+--------------------------------------------------------------------------------\n+<dataFormats>\n+  <!--\n+    here we define a YAML data format with the id snake and that it should use\n+    the TestPojo as the class type when doing unmarshal. The unmarshalTypeName\n+    is optional\n+  -->\n+  <yaml\n+    id=\"snake\"\n+    library=\"SnakeYAML\"\n+    unmarshalTypeName=\"org.apache.camel.component.yaml.model.TestPojo\"/>\n+\n+  <!--\n+    here we define a YAML data format with the id snake-safe which restricts the\n+    classes to be loaded from YAML to TestPojo and those belonging to package\n+    com.mycompany\n+  -->\n+  <yaml id=\"snake-safe\">\n+    <typeFilter value=\"org.apache.camel.component.yaml.model.TestPojo\"/>\n+    <typeFilter value=\"com.mycompany\\..*\" type=\"regexp\"/>\n+  </yaml>\n+</dataFormats>\n+--------------------------------------------------------------------------------\n+\n+And then you can refer to those ids in the route:\n \n [source,xml]\n -------------------------------------\n-       <route>\n-            <from uri=\"direct:back\"/>\n-            <unmarshal ref=\"snake\"/>\n-            <to uri=\"mock:reverse\"/>\n-        </route>\n+  <route>\n+    <from uri=\"direct:unmarshal\"/>\n+    <unmarshal>\n+      <custom ref=\"snake\"/>\n+    </unmarshal>\n+    <to uri=\"mock:unmarshal\"/>\n+  </route>\n+  <route>\n+    <from uri=\"direct:unmarshal-safe\"/>\n+    <unmarshal>\n+      <custom ref=\"snake-safe\"/>\n+    </unmarshal>\n+    <to uri=\"mock:unmarshal-safe\"/>\n+  </route>\n -------------------------------------\n \n-\u00a0\n-\n-[[YAMLDataFormat-OptionsforSnakeYAMLDataFormat]]\n-Options for SnakeYAML Data Format\n-^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-[width=\"100%\",cols=\"<25%,<25%,<25%,<25%\",options=\"header\",]\n-|=======================================================================\n-|Name |Type |Default |Description\n-|unmarshalType |`Class` |`Object.class` |Class of the object to be created\n-\n-|classLoader |ClassLoader |null |The classloader to use to\n-instantiate objects\n-\n-|constructor |String |null |A reference to an \n-org.yaml.snakeyaml.constructor.BaseConstructor instance in the registry\n-\n-|representer |String |null |A reference to an \n-org.yaml.snakeyaml.representer.Representer instance in the registry\n-\n-|dumperOptions |String |null |A reference to an \n-org.yaml.snakeyaml.DumperOptions instance in the registry\n-\n-|resolver |String |null |A reference to an \n-org.yaml.snakeyaml.resolver.Resolver instance in the registry\n-\n-|useApplicationContextClassLoader |\u00a0Boolean |true\u00a0 |To use CamelContext's ApplicationContextClassLoader if no custom class loader is set and\n-ApplicationContextClassLoader is provided\n-\n-|prettyFlow |\u00a0Boolean |false\u00a0 |Force the emitter to produce a pretty YAML document when using the flow style\n-|=======================================================================\n \n [[YAMLDataFormat-DependenciesforSnakeYAML]]\n Dependencies for SnakeYAML"
        },
        {
            "sha": "24fd0da9acfa5249d363401aad66ab7dc617e3d2",
            "filename": "components/camel-snakeyaml/src/main/java/org/apache/camel/component/snakeyaml/SnakeYAMLDataFormat.java",
            "status": "modified",
            "additions": 120,
            "deletions": 25,
            "changes": 145,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLDataFormat.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLDataFormat.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLDataFormat.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -21,10 +21,14 @@\n import java.io.OutputStream;\n import java.io.OutputStreamWriter;\n import java.lang.ref.WeakReference;\n-import java.util.LinkedHashMap;\n-import java.util.LinkedList;\n+import java.util.Arrays;\n+import java.util.Collection;\n+import java.util.Collections;\n import java.util.List;\n import java.util.Map;\n+import java.util.concurrent.ConcurrentHashMap;\n+import java.util.concurrent.ConcurrentMap;\n+import java.util.concurrent.CopyOnWriteArrayList;\n \n import org.apache.camel.CamelContext;\n import org.apache.camel.Exchange;\n@@ -38,38 +42,43 @@\n import org.yaml.snakeyaml.constructor.BaseConstructor;\n import org.yaml.snakeyaml.constructor.Constructor;\n import org.yaml.snakeyaml.constructor.CustomClassLoaderConstructor;\n+import org.yaml.snakeyaml.constructor.SafeConstructor;\n import org.yaml.snakeyaml.nodes.Tag;\n import org.yaml.snakeyaml.representer.Representer;\n import org.yaml.snakeyaml.resolver.Resolver;\n \n-\n /**\n  * A <a href=\"http://camel.apache.org/data-format.html\">data format</a> ({@link DataFormat})\n  * using <a href=\"http://www.snakeyaml.org\">SnakeYAML</a> to marshal to and from YAML.\n  */\n-public class SnakeYAMLDataFormat extends ServiceSupport implements DataFormat, DataFormatName {\n-\n-    private ThreadLocal<WeakReference<Yaml>> yamlCache;\n+public final class SnakeYAMLDataFormat extends ServiceSupport implements DataFormat, DataFormatName {\n+    private final ThreadLocal<WeakReference<Yaml>> yamlCache;\n     private BaseConstructor constructor;\n     private Representer representer;\n     private DumperOptions dumperOptions;\n     private Resolver resolver;\n     private ClassLoader classLoader;\n     private Class<?> unmarshalType;\n     private List<TypeDescription> typeDescriptions;\n-    private Map<Class<?>, Tag> classTags;\n+    private ConcurrentMap<Class<?>, Tag> classTags;\n     private boolean useApplicationContextClassLoader;\n     private boolean prettyFlow;\n+    private boolean allowAnyType;\n+    private List<TypeFilter> typeFilters;\n \n     public SnakeYAMLDataFormat() {\n-        this(Object.class);\n+        this(null);\n     }\n \n     public SnakeYAMLDataFormat(Class<?> type) {\n-        this.unmarshalType = type;\n         this.yamlCache = new ThreadLocal<>();\n         this.useApplicationContextClassLoader = true;\n         this.prettyFlow = false;\n+        this.allowAnyType = false;\n+\n+        if (type != null) {\n+            setUnmarshalType(type);\n+        }\n     }\n \n     @Override\n@@ -79,15 +88,16 @@ public String getDataFormatName() {\n \n     @Override\n     public void marshal(final Exchange exchange, final Object graph, final OutputStream stream) throws Exception {\n-        try (final OutputStreamWriter osw = new OutputStreamWriter(stream, IOHelper.getCharsetName(exchange))) {\n+        try (OutputStreamWriter osw = new OutputStreamWriter(stream, IOHelper.getCharsetName(exchange))) {\n             getYaml(exchange.getContext()).dump(graph, osw);\n         }\n     }\n \n     @Override\n     public Object unmarshal(final Exchange exchange, final InputStream stream) throws Exception {\n-        try (final InputStreamReader isr = new InputStreamReader(stream, IOHelper.getCharsetName(exchange))) {\n-            return getYaml(exchange.getContext()).loadAs(isr, unmarshalType);\n+        try (InputStreamReader isr = new InputStreamReader(stream, IOHelper.getCharsetName(exchange))) {\n+            Class<?> unmarshalObjectType = unmarshalType != null ? unmarshalType : Object.class;\n+            return getYaml(exchange.getContext()).loadAs(isr, unmarshalObjectType);\n         }\n     }\n \n@@ -105,17 +115,26 @@ protected Yaml getYaml(CamelContext context) {\n             DumperOptions yamlDumperOptions = this.dumperOptions;\n             Resolver yamlResolver = this.resolver;\n             ClassLoader yamlClassLoader = this.classLoader;\n+            Collection<TypeFilter> yamlTypeFilters = this.typeFilters;\n \n             if (yamlClassLoader == null && useApplicationContextClassLoader) {\n                 yamlClassLoader = context.getApplicationContextClassLoader();\n             }\n \n             if (yamlConstructor == null) {\n-                yamlConstructor = yamlClassLoader == null\n-                    ? new Constructor()\n-                    : new CustomClassLoaderConstructor(yamlClassLoader);\n+                if (allowAnyType) {\n+                    yamlTypeFilters = Collections.singletonList(TypeFilters.allowAll());\n+                }\n+\n+                if (yamlTypeFilters != null) {\n+                    yamlConstructor = yamlClassLoader != null\n+                        ? typeFilterConstructor(yamlClassLoader, yamlTypeFilters)\n+                        : typeFilterConstructor(yamlTypeFilters);\n+                } else {\n+                    yamlConstructor = new SafeConstructor();\n+                }\n \n-                if (typeDescriptions != null) {\n+                if (typeDescriptions != null && yamlConstructor instanceof Constructor) {\n                     for (TypeDescription typeDescription : typeDescriptions) {\n                         ((Constructor)yamlConstructor).addTypeDescription(typeDescription);\n                     }\n@@ -219,6 +238,7 @@ public Class<?> getUnmarshalType() {\n      */\n     public void setUnmarshalType(Class<?> unmarshalType) {\n         this.unmarshalType = unmarshalType;\n+        addTypeFilters(TypeFilters.types(unmarshalType));\n     }\n \n     public List<TypeDescription> getTypeDescriptions() {\n@@ -229,22 +249,24 @@ public List<TypeDescription> getTypeDescriptions() {\n      * Make YAML aware how to parse a custom Class.\n      */\n     public void setTypeDescriptions(List<TypeDescription> typeDescriptions) {\n-        this.typeDescriptions = typeDescriptions;\n+        this.typeDescriptions = new CopyOnWriteArrayList<>(typeDescriptions);\n     }\n \n-    public void addTypeDescriptions(TypeDescription... typeDescriptions) {\n+    public void addTypeDescriptions(Collection<TypeDescription> typeDescriptions) {\n         if (this.typeDescriptions == null) {\n-            this.typeDescriptions = new LinkedList<>();\n+            this.typeDescriptions = new CopyOnWriteArrayList<>();\n         }\n \n-        for (TypeDescription typeDescription : typeDescriptions) {\n-            this.typeDescriptions.add(typeDescription);\n-        }\n+        this.typeDescriptions.addAll(typeDescriptions);\n+    }\n+\n+    public void addTypeDescriptions(TypeDescription... typeDescriptions) {\n+        addTypeDescriptions(Arrays.asList(typeDescriptions));\n     }\n \n     public void addTypeDescription(Class<?> type, Tag tag) {\n         if (this.typeDescriptions == null) {\n-            this.typeDescriptions = new LinkedList<>();\n+            this.typeDescriptions = new CopyOnWriteArrayList<>();\n         }\n \n         this.typeDescriptions.add(new TypeDescription(type, tag));\n@@ -258,12 +280,13 @@ public Map<Class<?>, Tag> getClassTags() {\n      * Define a tag for the <code>Class</code> to serialize.\n      */\n     public void setClassTags(Map<Class<?>, Tag> classTags) {\n-        this.classTags = classTags;\n+        this.classTags = new ConcurrentHashMap<>();\n+        this.classTags.putAll(classTags);\n     }\n \n     public void addClassTags(Class<?> type, Tag tag) {\n         if (this.classTags == null) {\n-            this.classTags = new LinkedHashMap<>();\n+            this.classTags = new ConcurrentHashMap<>();\n         }\n \n         this.classTags.put(type, tag);\n@@ -301,4 +324,76 @@ public void addTag(Class<?> type, Tag tag) {\n         addClassTags(type, tag);\n         addTypeDescription(type, tag);\n     }\n+\n+    public List<TypeFilter> getTypeFilters() {\n+        return typeFilters;\n+    }\n+\n+    /**\n+     * Set the types SnakeYAML is allowed to un-marshall\n+     */\n+    public void setTypeFilters(List<TypeFilter> typeFilters) {\n+        this.typeFilters = new CopyOnWriteArrayList<>(typeFilters);\n+    }\n+\n+    public void setTypeFilterDefinitions(List<String> typeFilterDefinitions) {\n+        this.typeFilters = new CopyOnWriteArrayList<>();\n+\n+        for (String definition : typeFilterDefinitions) {\n+            TypeFilters.valueOf(definition).ifPresent(this.typeFilters::add);\n+        }\n+    }\n+\n+    public void addTypeFilters(Collection<TypeFilter> typeFilters) {\n+        if (this.typeFilters == null) {\n+            this.typeFilters = new CopyOnWriteArrayList<>();\n+        }\n+\n+        this.typeFilters.addAll(typeFilters);\n+    }\n+\n+    public void addTypeFilters(TypeFilter... typeFilters) {\n+        addTypeFilters(Arrays.asList(typeFilters));\n+    }\n+\n+    public boolean isAllowAnyType() {\n+        return allowAnyType;\n+    }\n+\n+    /**\n+     * Allow any class to be un-marshaled, same as setTypeFilters(TypeFilters.allowAll())\n+     */\n+    public void setAllowAnyType(boolean allowAnyType) {\n+        this.allowAnyType = allowAnyType;\n+    }\n+\n+    // ***************************\n+    // Constructors\n+    // ***************************\n+\n+    private static Constructor typeFilterConstructor(final Collection<TypeFilter> typeFilters) {\n+        return new Constructor() {\n+            @Override\n+            protected Class<?> getClassForName(String name) throws ClassNotFoundException {\n+                if (typeFilters.stream().noneMatch(f -> f.test(name))) {\n+                    throw new IllegalArgumentException(\"Type \" + name + \" is not allowed\");\n+                }\n+\n+                return super.getClassForName(name);\n+            }\n+        };\n+    }\n+\n+    private static Constructor typeFilterConstructor(final ClassLoader classLoader, final Collection<TypeFilter> typeFilters) {\n+        return new CustomClassLoaderConstructor(classLoader) {\n+            @Override\n+            protected Class<?> getClassForName(String name) throws ClassNotFoundException {\n+                if (typeFilters.stream().noneMatch(f -> f.test(name))) {\n+                    throw new IllegalArgumentException(\"Type \" + name + \" is not allowed\");\n+                }\n+\n+                return super.getClassForName(name);\n+            }\n+        };\n+    }\n }"
        },
        {
            "sha": "68200f7a2fb0b2551cdc68d4573eba03f63e8aea",
            "filename": "components/camel-snakeyaml/src/main/java/org/apache/camel/component/snakeyaml/TypeFilter.java",
            "status": "added",
            "additions": 23,
            "deletions": 0,
            "changes": 23,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FTypeFilter.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FTypeFilter.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FTypeFilter.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -0,0 +1,23 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.camel.component.snakeyaml;\n+\n+import java.util.function.Predicate;\n+\n+@FunctionalInterface\n+public interface TypeFilter extends Predicate<String> {\n+}"
        },
        {
            "sha": "61f638ac19ac7ae2505b967ddc5ddaf7568171db",
            "filename": "components/camel-snakeyaml/src/main/java/org/apache/camel/component/snakeyaml/TypeFilters.java",
            "status": "added",
            "additions": 119,
            "deletions": 0,
            "changes": 119,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FTypeFilters.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FTypeFilters.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FTypeFilters.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -0,0 +1,119 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.camel.component.snakeyaml;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collection;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Optional;\n+import java.util.function.Predicate;\n+import java.util.regex.Pattern;\n+import java.util.stream.Collectors;\n+\n+import org.apache.camel.util.StringHelper;\n+\n+public final class TypeFilters {\n+    private TypeFilters() {\n+    }\n+\n+    public static final class RegExp implements TypeFilter {\n+        private final List<Predicate<String>> predicates;\n+\n+        public RegExp(String pattern) {\n+            this.predicates = Collections.singletonList(Pattern.compile(pattern).asPredicate());\n+        }\n+\n+        public RegExp(Collection<String> patterns) {\n+            this.predicates = patterns.stream()\n+                .map(Pattern::compile)\n+                .map(Pattern::asPredicate)\n+                .collect(Collectors.toList());\n+        }\n+\n+        @Override\n+        public boolean test(String type) {\n+            return predicates.stream().anyMatch(p -> p.test(type));\n+        }\n+    }\n+\n+    public static final class TypeName implements TypeFilter {\n+        private final List<String> values;\n+\n+        public TypeName(String value) {\n+            this.values = Collections.singletonList(value);\n+        }\n+\n+        public TypeName(Collection<String> values) {\n+            this.values = new ArrayList<>(values);\n+        }\n+\n+        @Override\n+        public boolean test(String type) {\n+            return this.values.contains(type);\n+        }\n+    }\n+\n+    // ***************************\n+    // Helpers\n+    // ***************************\n+\n+    public static Optional<TypeFilter> valueOf(String definition) {\n+        String type = StringHelper.before(definition, \":\");\n+        if (type == null || \"type\".equals(type)) {\n+            return StringHelper.after(definition, \":\", TypeName::new);\n+        } else if (\"regexp\".equals(type)) {\n+            return StringHelper.after(definition, \":\", RegExp::new);\n+        }\n+\n+        return Optional.empty();\n+    }\n+\n+    public static TypeFilter regexp(String... patterns) {\n+        return new RegExp(Arrays.asList(patterns));\n+    }\n+\n+    public static TypeFilter regexp(Collection<String> patterns) {\n+        return new RegExp(patterns);\n+    }\n+\n+    public static TypeFilter typeNames(Collection<String> values) {\n+        return new TypeName(values);\n+    }\n+\n+    public static TypeFilter typeNames(String... values) {\n+        return typeNames(Arrays.asList(values));\n+    }\n+\n+    public static TypeFilter types(Collection<Class<?>> values) {\n+        return new TypeName(values.stream().map(c -> c.getName()).collect(Collectors.toList()));\n+    }\n+\n+    public static TypeFilter types(Class<?>... values) {\n+        return types(Arrays.asList(values));\n+    }\n+\n+    public static TypeFilter allowAll() {\n+        return s -> true;\n+    }\n+\n+    public static TypeFilter allowNone() {\n+        return s -> false;\n+    }\n+}"
        },
        {
            "sha": "8cfa7649295b3f4984e94bc9a6733aabaf8d5bff",
            "filename": "components/camel-snakeyaml/src/test/java/org/apache/camel/component/snakeyaml/SnakeYAMLBlueprintTypeFilterTest.java",
            "status": "added",
            "additions": 48,
            "deletions": 0,
            "changes": 48,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLBlueprintTypeFilterTest.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLBlueprintTypeFilterTest.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLBlueprintTypeFilterTest.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -0,0 +1,48 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.camel.component.snakeyaml;\n+\n+import org.apache.camel.test.blueprint.CamelBlueprintTestSupport;\n+import org.junit.Test;\n+\n+public class SnakeYAMLBlueprintTypeFilterTest extends CamelBlueprintTestSupport {\n+    @Test\n+    public void testSafeConstructor() throws Exception {\n+        SnakeYAMLTypeFilterHelper.testSafeConstructor(template);\n+    }\n+\n+    @Test\n+    public void testTypeConstructor() throws Exception {\n+        SnakeYAMLTypeFilterHelper.testTypeConstructor(template);\n+    }\n+\n+    @Test\n+    public void testTypeConstructorFromDefinition() throws Exception {\n+        SnakeYAMLTypeFilterHelper.testTypeConstructorFromDefinition(template);\n+    }\n+\n+    @Test\n+    public void testAllowAllConstructor() throws Exception {\n+        SnakeYAMLTypeFilterHelper.testAllowAllConstructor(template);\n+    }\n+\n+    @Override\n+    protected String getBlueprintDescriptor() {\n+        return \"OSGI-INF/blueprint/blueprint-typefilter.xml\";\n+    }\n+}"
        },
        {
            "sha": "70344591b288db771d3a14bfd6cee726d597a677",
            "filename": "components/camel-snakeyaml/src/test/java/org/apache/camel/component/snakeyaml/SnakeYAMLSpringTest.java",
            "status": "renamed",
            "additions": 10,
            "deletions": 10,
            "changes": 20,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLSpringTest.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLSpringTest.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLSpringTest.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -23,17 +23,18 @@\n import org.junit.Test;\n import org.springframework.context.support.AbstractXmlApplicationContext;\n import org.springframework.context.support.ClassPathXmlApplicationContext;\n+import org.springframework.test.annotation.DirtiesContext;\n \n-public class SnakeYAMLSpringMarshalTest extends CamelSpringTestSupport {\n-\n+@DirtiesContext\n+public class SnakeYAMLSpringTest extends CamelSpringTestSupport {\n     @Test\n     public void testMarshalAndUnmarshalMap() throws Exception {\n         Map<String, String> in = new HashMap<>();\n         in.put(\"name\", \"Camel\");\n \n-        SnakeYAMLMarshalTestHelper.marshalAndUnmarshal(\n+        SnakeYAMLTestHelper.marshalAndUnmarshal(\n             context(),\n-            SnakeYAMLMarshalTestHelper.createTestMap(),\n+            SnakeYAMLTestHelper.createTestMap(),\n             \"mock:reverse\",\n             \"direct:in\",\n             \"direct:back\",\n@@ -43,9 +44,9 @@ public void testMarshalAndUnmarshalMap() throws Exception {\n \n     @Test\n     public void testMarshalAndUnmarshalPojo() throws Exception {\n-        SnakeYAMLMarshalTestHelper.marshalAndUnmarshal(\n+        SnakeYAMLTestHelper.marshalAndUnmarshal(\n             context(),\n-            SnakeYAMLMarshalTestHelper.createTestPojo(),\n+            SnakeYAMLTestHelper.createTestPojo(),\n             \"mock:reversePojo\",\n             \"direct:inPojo\",\n             \"direct:backPojo\",\n@@ -55,9 +56,9 @@ public void testMarshalAndUnmarshalPojo() throws Exception {\n \n     @Test\n     public void testMarshalAndUnmarshalPojoWithPrettyFlow() throws Exception {\n-        SnakeYAMLMarshalTestHelper.marshalAndUnmarshal(\n+        SnakeYAMLTestHelper.marshalAndUnmarshal(\n             context(),\n-            SnakeYAMLMarshalTestHelper.createTestPojo(),\n+            SnakeYAMLTestHelper.createTestPojo(),\n             \"mock:reversePojoWithPrettyFlow\",\n             \"direct:inPojoWithPrettyFlow\",\n             \"direct:backPojoWithPrettyFlow\",\n@@ -67,7 +68,6 @@ public void testMarshalAndUnmarshalPojoWithPrettyFlow() throws Exception {\n \n     @Override\n     protected AbstractXmlApplicationContext createApplicationContext() {\n-        return new ClassPathXmlApplicationContext(\"org/apache/camel/component/snakeyaml/SnakeYAMLSpringMarshalTest.xml\");\n+        return new ClassPathXmlApplicationContext(\"org/apache/camel/component/snakeyaml/SnakeYAMLSpringTest.xml\");\n     }\n-\n }",
            "previous_filename": "components/camel-snakeyaml/src/test/java/org/apache/camel/component/snakeyaml/SnakeYAMLSpringMarshalTest.java"
        },
        {
            "sha": "38df35fe445746cbe12cb54dd5dd230773abd45f",
            "filename": "components/camel-snakeyaml/src/test/java/org/apache/camel/component/snakeyaml/SnakeYAMLSpringTypeFilterTest.java",
            "status": "added",
            "additions": 51,
            "deletions": 0,
            "changes": 51,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLSpringTypeFilterTest.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLSpringTypeFilterTest.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLSpringTypeFilterTest.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -0,0 +1,51 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.apache.camel.component.snakeyaml;\n+\n+import org.apache.camel.test.spring.CamelSpringTestSupport;\n+import org.junit.Test;\n+import org.springframework.context.support.AbstractXmlApplicationContext;\n+import org.springframework.context.support.ClassPathXmlApplicationContext;\n+import org.springframework.test.annotation.DirtiesContext;\n+\n+@DirtiesContext\n+public class SnakeYAMLSpringTypeFilterTest extends CamelSpringTestSupport {\n+    @Test\n+    public void testSafeConstructor() throws Exception {\n+        SnakeYAMLTypeFilterHelper.testSafeConstructor(template);\n+    }\n+\n+    @Test\n+    public void testTypeConstructor() throws Exception {\n+        SnakeYAMLTypeFilterHelper.testTypeConstructor(template);\n+    }\n+\n+    @Test\n+    public void testTypeConstructorFromDefinition() throws Exception {\n+        SnakeYAMLTypeFilterHelper.testTypeConstructorFromDefinition(template);\n+    }\n+\n+    @Test\n+    public void testAllowAllConstructor() throws Exception {\n+        SnakeYAMLTypeFilterHelper.testAllowAllConstructor(template);\n+    }\n+\n+    @Override\n+    protected AbstractXmlApplicationContext createApplicationContext() {\n+        return new ClassPathXmlApplicationContext(\"org/apache/camel/component/snakeyaml/SnakeYAMLSpringTypeFilterTest.xml\");\n+    }\n+}"
        },
        {
            "sha": "a276b41499eea0d83657aa967bd8a0b1e284a0cd",
            "filename": "components/camel-snakeyaml/src/test/java/org/apache/camel/component/snakeyaml/SnakeYAMLTest.java",
            "status": "renamed",
            "additions": 8,
            "deletions": 8,
            "changes": 16,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLTest.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLTest.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLTest.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -27,20 +27,20 @@\n import org.junit.runners.Parameterized;\n import org.yaml.snakeyaml.nodes.Tag;\n \n-import static org.apache.camel.component.snakeyaml.SnakeYAMLMarshalTestHelper.createClassTagDataFormat;\n-import static org.apache.camel.component.snakeyaml.SnakeYAMLMarshalTestHelper.createDataFormat;\n-import static org.apache.camel.component.snakeyaml.SnakeYAMLMarshalTestHelper.createPrettyFlowDataFormat;\n-import static org.apache.camel.component.snakeyaml.SnakeYAMLMarshalTestHelper.createTestMap;\n-import static org.apache.camel.component.snakeyaml.SnakeYAMLMarshalTestHelper.createTestPojo;\n+import static org.apache.camel.component.snakeyaml.SnakeYAMLTestHelper.createClassTagDataFormat;\n+import static org.apache.camel.component.snakeyaml.SnakeYAMLTestHelper.createDataFormat;\n+import static org.apache.camel.component.snakeyaml.SnakeYAMLTestHelper.createPrettyFlowDataFormat;\n+import static org.apache.camel.component.snakeyaml.SnakeYAMLTestHelper.createTestMap;\n+import static org.apache.camel.component.snakeyaml.SnakeYAMLTestHelper.createTestPojo;\n \n @RunWith(Parameterized.class)\n-public class SnakeYAMLMarshalTest extends CamelTestSupport {\n+public class SnakeYAMLTest extends CamelTestSupport {\n \n     private final SnakeYAMLDataFormat format;\n     private final Object body;\n     private final String expected;\n \n-    public SnakeYAMLMarshalTest(SnakeYAMLDataFormat format, Object body, String expected) {\n+    public SnakeYAMLTest(SnakeYAMLDataFormat format, Object body, String expected) {\n         this.format = format;\n         this.body = body;\n         this.expected = expected;\n@@ -74,7 +74,7 @@ public static Collection yamlCases() {\n \n     @Test\n     public void testMarshalAndUnmarshal() throws Exception {\n-        SnakeYAMLMarshalTestHelper.marshalAndUnmarshal(\n+        SnakeYAMLTestHelper.marshalAndUnmarshal(\n             context(),\n             body,\n             \"mock:reverse\",",
            "previous_filename": "components/camel-snakeyaml/src/test/java/org/apache/camel/component/snakeyaml/SnakeYAMLMarshalTest.java"
        },
        {
            "sha": "86a2a83db6beb9caa47e2b8994d164190943d4a9",
            "filename": "components/camel-snakeyaml/src/test/java/org/apache/camel/component/snakeyaml/SnakeYAMLTestHelper.java",
            "status": "renamed",
            "additions": 16,
            "deletions": 10,
            "changes": 26,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLTestHelper.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLTestHelper.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLTestHelper.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -28,9 +28,9 @@\n import static org.junit.Assert.assertEquals;\n import static org.junit.Assert.assertNotNull;\n \n-public final class SnakeYAMLMarshalTestHelper  {\n+public final class SnakeYAMLTestHelper {\n \n-    protected SnakeYAMLMarshalTestHelper() {\n+    protected SnakeYAMLTestHelper() {\n     }\n \n     public static TestPojo createTestPojo() {\n@@ -44,22 +44,27 @@ public static Map<String, String> createTestMap() {\n         return map;\n     }\n \n-    public static SnakeYAMLDataFormat createDataFormat(Class<?> type) {\n-        return type == null ? new SnakeYAMLDataFormat() : new SnakeYAMLDataFormat(type);\n+    public static SnakeYAMLDataFormat createDataFormat(final Class<?> type) {\n+        SnakeYAMLDataFormat format = new SnakeYAMLDataFormat();\n+        if (type != null) {\n+            format.setUnmarshalType(type);\n+        }\n+\n+        return format;\n     }\n \n     public static SnakeYAMLDataFormat createPrettyFlowDataFormat(Class<?> type, boolean prettyFlow) {\n-        SnakeYAMLDataFormat df = type == null ? new SnakeYAMLDataFormat() : new SnakeYAMLDataFormat(type);\n-        df.setPrettyFlow(prettyFlow);\n+        SnakeYAMLDataFormat format = createDataFormat(type);\n+        format.setPrettyFlow(prettyFlow);\n \n-        return df;\n+        return format;\n     }\n \n     public static SnakeYAMLDataFormat createClassTagDataFormat(Class<?> type, Tag tag) {\n-        SnakeYAMLDataFormat df = new SnakeYAMLDataFormat(type);\n-        df.addTag(type, tag);\n+        SnakeYAMLDataFormat format = createDataFormat(type);\n+        format.addTag(type, tag);\n \n-        return df;\n+        return format;\n     }\n \n     public static void marshalAndUnmarshal(\n@@ -79,6 +84,7 @@ public static void marshalAndUnmarshal(\n \n         template.sendBody(directBack, result);\n \n+\n         mock.assertIsSatisfied();\n     }\n }",
            "previous_filename": "components/camel-snakeyaml/src/test/java/org/apache/camel/component/snakeyaml/SnakeYAMLMarshalTestHelper.java"
        },
        {
            "sha": "6339aba846bbdf3f6bfe2ecc537f4335e7d5e77e",
            "filename": "components/camel-snakeyaml/src/test/java/org/apache/camel/component/snakeyaml/SnakeYAMLTypeFilterHelper.java",
            "status": "added",
            "additions": 117,
            "deletions": 0,
            "changes": 117,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLTypeFilterHelper.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLTypeFilterHelper.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLTypeFilterHelper.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -0,0 +1,117 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.camel.component.snakeyaml;\n+\n+import org.apache.camel.CamelExecutionException;\n+import org.apache.camel.ProducerTemplate;\n+import org.apache.camel.component.snakeyaml.model.RexPojo;\n+import org.apache.camel.component.snakeyaml.model.TestPojo;\n+import org.apache.camel.component.snakeyaml.model.UnsafePojo;\n+import org.yaml.snakeyaml.constructor.ConstructorException;\n+\n+import static org.junit.Assert.assertNotNull;\n+import static org.junit.Assert.assertTrue;\n+import static org.junit.Assert.fail;\n+\n+public final class SnakeYAMLTypeFilterHelper {\n+    private SnakeYAMLTypeFilterHelper() {\n+    }\n+\n+    static void testSafeConstructor(ProducerTemplate template) throws Exception {\n+        try {\n+            template.sendBody(\n+                \"direct:safe-constructor\",\n+                \"!!org.apache.camel.component.snakeyaml.model.TestPojo {name: Camel}\");\n+\n+            fail(\"As SnakeYAML uses SafeConstructor, custom types should not be allowed\");\n+        } catch (CamelExecutionException e) {\n+            assertTrue(e.getCause() instanceof ConstructorException);\n+        }\n+    }\n+\n+    static void testTypeConstructor(ProducerTemplate template) throws Exception {\n+        Object result = template.requestBody(\n+            \"direct:type-constructor\",\n+            \"!!org.apache.camel.component.snakeyaml.model.TestPojo {name: Camel}\");\n+\n+        assertNotNull(result);\n+        assertTrue(result instanceof TestPojo);\n+\n+        try {\n+            template.sendBody(\n+                \"direct:type-constructor\",\n+                \"!!org.apache.camel.component.snakeyaml.model.UnsafePojo {name: Camel}\");\n+\n+            fail(\"As SnakeYAML filters class is can unmarshall, UnsafePojo should not be allowed\");\n+        } catch (CamelExecutionException e) {\n+            // Wrapped by SnakeYAML\n+            assertTrue(e.getCause() instanceof ConstructorException);\n+            // Thrown by SnakeYAMLDataFormat\n+            assertTrue(e.getCause().getCause() instanceof IllegalArgumentException);\n+        }\n+    }\n+\n+    static void testTypeConstructorFromDefinition(ProducerTemplate template) throws Exception {\n+        Object result;\n+\n+        // TestPojo --> from definition type:\n+        result = template.requestBody(\n+            \"direct:type-constructor-strdef\",\n+            \"!!org.apache.camel.component.snakeyaml.model.TestPojo {name: Camel}\");\n+\n+        assertNotNull(result);\n+        assertTrue(result instanceof TestPojo);\n+\n+        // RexPojo --> from definition rex:\n+        result = template.requestBody(\n+            \"direct:type-constructor-strdef\",\n+            \"!!org.apache.camel.component.snakeyaml.model.RexPojo {name: Camel}\");\n+\n+        assertNotNull(result);\n+        assertTrue(result instanceof RexPojo);\n+\n+        try {\n+            template.sendBody(\n+                \"direct:type-constructor-strdef\",\n+                \"!!org.apache.camel.component.snakeyaml.model.UnsafePojo {name: Camel}\");\n+\n+            fail(\"As SnakeYAML filters class is can unmarshall, UnsafePojo should not be allowed\");\n+        } catch (CamelExecutionException e) {\n+            // Wrapped by SnakeYAML\n+            assertTrue(e.getCause() instanceof ConstructorException);\n+            // Thrown by SnakeYAMLDataFormat\n+            assertTrue(e.getCause().getCause() instanceof IllegalArgumentException);\n+        }\n+    }\n+\n+    static void testAllowAllConstructor(ProducerTemplate template) throws Exception {\n+        Object testPojo = template.requestBody(\n+            \"direct:all-constructor\",\n+            \"!!org.apache.camel.component.snakeyaml.model.TestPojo {name: Camel}\");\n+\n+        assertNotNull(testPojo);\n+        assertTrue(testPojo instanceof TestPojo);\n+\n+        Object unsafePojo = template.requestBody(\n+            \"direct:all-constructor\",\n+            \"!!org.apache.camel.component.snakeyaml.model.UnsafePojo {name: Camel}\");\n+\n+        assertNotNull(unsafePojo);\n+        assertTrue(unsafePojo instanceof UnsafePojo);\n+    }\n+}"
        },
        {
            "sha": "53e7bbd77651c71257f1ab4023df85594d9f0f36",
            "filename": "components/camel-snakeyaml/src/test/java/org/apache/camel/component/snakeyaml/SnakeYAMLTypeFilterTest.java",
            "status": "added",
            "additions": 85,
            "deletions": 0,
            "changes": 85,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLTypeFilterTest.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLTypeFilterTest.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLTypeFilterTest.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -0,0 +1,85 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.camel.component.snakeyaml;\n+\n+import java.util.Arrays;\n+\n+import org.apache.camel.builder.RouteBuilder;\n+import org.apache.camel.component.snakeyaml.model.TestPojo;\n+import org.apache.camel.test.junit4.CamelTestSupport;\n+import org.junit.Test;\n+\n+public class SnakeYAMLTypeFilterTest extends CamelTestSupport {\n+    @Test\n+    public void testSafeConstructor() throws Exception {\n+        SnakeYAMLTypeFilterHelper.testSafeConstructor(template);\n+    }\n+\n+    @Test\n+    public void testTypeConstructor() throws Exception {\n+        SnakeYAMLTypeFilterHelper.testTypeConstructor(template);\n+    }\n+\n+    @Test\n+    public void testTypeConstructorFromDefinition() throws Exception {\n+        SnakeYAMLTypeFilterHelper.testTypeConstructorFromDefinition(template);\n+    }\n+\n+    @Test\n+    public void testAllowAllConstructor() throws Exception {\n+        SnakeYAMLTypeFilterHelper.testAllowAllConstructor(template);\n+    }\n+\n+    @Override\n+    protected RouteBuilder createRouteBuilder() throws Exception {\n+        return new RouteBuilder() {\n+            @Override\n+            public void configure() throws Exception {\n+                // SafeConstructor\n+                SnakeYAMLDataFormat safeConstructorDf = new SnakeYAMLDataFormat();\n+\n+                from(\"direct:safe-constructor\")\n+                    .unmarshal(safeConstructorDf);\n+\n+                // Type filter Constructor\n+                SnakeYAMLDataFormat typeConstructorDf = new SnakeYAMLDataFormat();\n+                typeConstructorDf.addTypeFilters(TypeFilters.types(TestPojo.class));\n+\n+                from(\"direct:type-constructor\")\n+                    .unmarshal(typeConstructorDf);\n+\n+                // Type filter Constructor from string definitions\n+                SnakeYAMLDataFormat typeConstructorStrDf = new SnakeYAMLDataFormat();\n+                typeConstructorStrDf.setTypeFilterDefinitions(Arrays.asList(\n+                    \"type:org.apache.camel.component.snakeyaml.model.TestPojo\",\n+                    \"regexp:org.apache.camel.component.snakeyaml.model.R.*\"));\n+\n+                from(\"direct:type-constructor-strdef\")\n+                    .unmarshal(typeConstructorStrDf);\n+\n+                // Allow all Constructor\n+                SnakeYAMLDataFormat allConstructorDf = new SnakeYAMLDataFormat();\n+                allConstructorDf.setAllowAnyType(true);\n+\n+                from(\"direct:all-constructor\")\n+                    .unmarshal(allConstructorDf)\n+                    .to(\"mock:all-constructor\");\n+            }\n+        };\n+    }\n+}"
        },
        {
            "sha": "5cf7c7b770267bb3ed4a893db60896fdb045f5d3",
            "filename": "components/camel-snakeyaml/src/test/java/org/apache/camel/component/snakeyaml/SnakeYAMLUnmarshalTypeTest.java",
            "status": "added",
            "additions": 46,
            "deletions": 0,
            "changes": 46,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLUnmarshalTypeTest.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLUnmarshalTypeTest.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLUnmarshalTypeTest.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -0,0 +1,46 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.camel.component.snakeyaml;\n+\n+import org.apache.camel.builder.RouteBuilder;\n+import org.apache.camel.component.snakeyaml.model.TestPojo;\n+import org.apache.camel.test.junit4.CamelTestSupport;\n+import org.junit.Test;\n+\n+public class SnakeYAMLUnmarshalTypeTest extends CamelTestSupport {\n+    @Test\n+    public void testUnmarshal() throws Exception {\n+        Object result = template.requestBody(\"direct:unmarshal\", \"name: Camel\");\n+        assertNotNull(result);\n+        assertTrue(result instanceof TestPojo);\n+    }\n+\n+    @Override\n+    protected RouteBuilder createRouteBuilder() throws Exception {\n+        return new RouteBuilder() {\n+            @Override\n+            public void configure() throws Exception {\n+                SnakeYAMLDataFormat format = new SnakeYAMLDataFormat();\n+                format.setUnmarshalType(TestPojo.class);\n+\n+                from(\"direct:unmarshal\")\n+                    .unmarshal(format);\n+            }\n+        };\n+    }\n+}"
        },
        {
            "sha": "4f8537c07a3417cb34bc582eaed43bcfd500baa5",
            "filename": "components/camel-snakeyaml/src/test/java/org/apache/camel/component/snakeyaml/model/RexPojo.java",
            "status": "added",
            "additions": 63,
            "deletions": 0,
            "changes": 63,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2Fmodel%2FRexPojo.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2Fmodel%2FRexPojo.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2Fmodel%2FRexPojo.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -0,0 +1,63 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.camel.component.snakeyaml.model;\n+\n+public class RexPojo {\n+    private String name;\n+\n+    public RexPojo() {\n+    }\n+\n+    public RexPojo(String name) {\n+        this.name = name;\n+    }\n+\n+    public String getName() {\n+        return this.name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+\n+    @Override\n+    public boolean equals(Object o) {\n+        if (this == o) {\n+            return true;\n+        }\n+        if (o == null || getClass() != o.getClass()) {\n+            return false;\n+        }\n+\n+        RexPojo pojo = (RexPojo) o;\n+\n+        return name != null ? name.equals(pojo.name) : pojo.name == null;\n+    }\n+\n+    @Override\n+    public int hashCode() {\n+        return name != null ? name.hashCode() : 0;\n+    }\n+\n+    @Override\n+    public String toString() {\n+        return \"RexPojo {\"\n+            + \"name='\" + name + '\\''\n+            + '}';\n+    }\n+}\n\\ No newline at end of file"
        },
        {
            "sha": "2e5426c0f2345078be41c5e5d5a6779794d14666",
            "filename": "components/camel-snakeyaml/src/test/java/org/apache/camel/component/snakeyaml/model/TestPojo.java",
            "status": "modified",
            "additions": 14,
            "deletions": 3,
            "changes": 17,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2Fmodel%2FTestPojo.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2Fmodel%2FTestPojo.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2Fmodel%2FTestPojo.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -36,8 +36,17 @@ public void setName(String name) {\n     }\n \n     @Override\n-    public boolean equals(Object obj) {\n-        return this.name.equals(((TestPojo) obj).getName());\n+    public boolean equals(Object o) {\n+        if (this == o) {\n+            return true;\n+        }\n+        if (o == null || getClass() != o.getClass()) {\n+            return false;\n+        }\n+\n+        TestPojo pojo = (TestPojo) o;\n+\n+        return name != null ? name.equals(pojo.name) : pojo.name == null;\n     }\n \n     @Override\n@@ -47,6 +56,8 @@ public int hashCode() {\n \n     @Override\n     public String toString() {\n-        return \"TestPojo[\" + name + \"]\";\n+        return \"TestPojo {\"\n+            + \"name='\" + name + '\\''\n+            + '}';\n     }\n }\n\\ No newline at end of file"
        },
        {
            "sha": "5d180bf404a9ad08fc314e5a8a34b5851be02204",
            "filename": "components/camel-snakeyaml/src/test/java/org/apache/camel/component/snakeyaml/model/UnsafePojo.java",
            "status": "added",
            "additions": 63,
            "deletions": 0,
            "changes": 63,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2Fmodel%2FUnsafePojo.java",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2Fmodel%2FUnsafePojo.java",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fjava%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2Fmodel%2FUnsafePojo.java?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -0,0 +1,63 @@\n+/**\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.camel.component.snakeyaml.model;\n+\n+public class UnsafePojo {\n+    private String name;\n+\n+    public UnsafePojo() {\n+    }\n+\n+    public UnsafePojo(String name) {\n+        this.name = name;\n+    }\n+\n+    public String getName() {\n+        return this.name;\n+    }\n+\n+    public void setName(String name) {\n+        this.name = name;\n+    }\n+\n+    @Override\n+    public boolean equals(Object o) {\n+        if (this == o) {\n+            return true;\n+        }\n+        if (o == null || getClass() != o.getClass()) {\n+            return false;\n+        }\n+\n+        UnsafePojo pojo = (UnsafePojo) o;\n+\n+        return name != null ? name.equals(pojo.name) : pojo.name == null;\n+    }\n+\n+    @Override\n+    public int hashCode() {\n+        return name != null ? name.hashCode() : 0;\n+    }\n+\n+    @Override\n+    public String toString() {\n+        return \"UnsafePojo {\"\n+            + \"name='\" + name + '\\''\n+            + '}';\n+    }\n+}\n\\ No newline at end of file"
        },
        {
            "sha": "a0529b1d9bbaf04865c961b39f6ab4ef4d462de2",
            "filename": "components/camel-snakeyaml/src/test/resources/OSGI-INF/blueprint/blueprint-typefilter.xml",
            "status": "added",
            "additions": 71,
            "deletions": 0,
            "changes": 71,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fresources%2FOSGI-INF%2Fblueprint%2Fblueprint-typefilter.xml",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fresources%2FOSGI-INF%2Fblueprint%2Fblueprint-typefilter.xml",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fresources%2FOSGI-INF%2Fblueprint%2Fblueprint-typefilter.xml?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -0,0 +1,71 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  ~ Licensed to the Apache Software Foundation (ASF) under one or more\n+  ~ contributor license agreements.  See the NOTICE file distributed with\n+  ~ this work for additional information regarding copyright ownership.\n+  ~ The ASF licenses this file to You under the Apache License, Version 2.0\n+  ~ (the \"License\"); you may not use this file except in compliance with\n+  ~ the License.  You may obtain a copy of the License at\n+  ~\n+  ~      http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing, software\n+  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~ See the License for the specific language governing permissions and\n+  ~ limitations under the License.\n+  -->\n+<blueprint xmlns=\"http://www.osgi.org/xmlns/blueprint/v1.0.0\">\n+\n+  <!-- ******************** -->\n+  <!-- DataFormat           -->\n+  <!-- ******************** -->\n+\n+  <bean id=\"yaml-safe-constructor\" class=\"org.apache.camel.component.snakeyaml.SnakeYAMLDataFormat\"/>\n+\n+  <bean id=\"yaml-type-constructor\" class=\"org.apache.camel.component.snakeyaml.SnakeYAMLDataFormat\">\n+    <property name=\"typeFilterDefinitions\">\n+      <list>\n+        <value>type:org.apache.camel.component.snakeyaml.model.TestPojo</value>\n+      </list>\n+    </property>\n+  </bean>\n+\n+  <bean id=\"yaml-type-constructor-strdef\" class=\"org.apache.camel.component.snakeyaml.SnakeYAMLDataFormat\">\n+    <property name=\"typeFilterDefinitions\">\n+      <list>\n+        <value>type:org.apache.camel.component.snakeyaml.model.TestPojo</value>\n+        <value>regexp:org.apache.camel.component.snakeyaml.model.Rex.*</value>\n+      </list>\n+    </property>\n+  </bean>\n+\n+  <bean id=\"yaml-all-constructor\" class=\"org.apache.camel.component.snakeyaml.SnakeYAMLDataFormat\">\n+    <property name=\"allowAnyType\" value=\"true\"/>\n+  </bean>\n+\n+  <!-- ******************** -->\n+  <!-- Camel Context        -->\n+  <!-- ******************** -->\n+\n+  <camelContext id=\"camel\" xmlns=\"http://camel.apache.org/schema/blueprint\">\n+    <route>\n+      <from uri=\"direct:safe-constructor\"/>\n+      <unmarshal ref=\"yaml-safe-constructor\"/>\n+    </route>\n+    <route>\n+      <from uri=\"direct:type-constructor\"/>\n+      <unmarshal ref=\"yaml-type-constructor\"/>\n+    </route>\n+    <route>\n+      <from uri=\"direct:type-constructor-strdef\"/>\n+      <unmarshal ref=\"yaml-type-constructor-strdef\"/>\n+    </route>\n+    <route>\n+      <from uri=\"direct:all-constructor\"/>\n+      <unmarshal ref=\"yaml-all-constructor\"/>\n+    </route>\n+\n+  </camelContext>\n+\n+</blueprint>"
        },
        {
            "sha": "78210ff81bbd974bc40f125b88d723c8c2b17433",
            "filename": "components/camel-snakeyaml/src/test/resources/org/apache/camel/component/snakeyaml/SnakeYAMLSpringTest.xml",
            "status": "renamed",
            "additions": 0,
            "deletions": 0,
            "changes": 0,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLSpringTest.xml",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLSpringTest.xml",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLSpringTest.xml?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "previous_filename": "components/camel-snakeyaml/src/test/resources/org/apache/camel/component/snakeyaml/SnakeYAMLSpringMarshalTest.xml"
        },
        {
            "sha": "80d5a054b4f0220633bd31e65394a27d72974432",
            "filename": "components/camel-snakeyaml/src/test/resources/org/apache/camel/component/snakeyaml/SnakeYAMLSpringTypeFilterTest.xml",
            "status": "added",
            "additions": 60,
            "deletions": 0,
            "changes": 60,
            "blob_url": "https://github.com/apache/camel/blob/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLSpringTypeFilterTest.xml",
            "raw_url": "https://github.com/apache/camel/raw/20e26226107f3133c87d0f5c845e02f824823f69/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLSpringTypeFilterTest.xml",
            "contents_url": "https://api.github.com/repos/apache/camel/contents/components%2Fcamel-snakeyaml%2Fsrc%2Ftest%2Fresources%2Forg%2Fapache%2Fcamel%2Fcomponent%2Fsnakeyaml%2FSnakeYAMLSpringTypeFilterTest.xml?ref=20e26226107f3133c87d0f5c845e02f824823f69",
            "patch": "@@ -0,0 +1,60 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+  ~ Licensed to the Apache Software Foundation (ASF) under one or more\n+  ~ contributor license agreements.  See the NOTICE file distributed with\n+  ~ this work for additional information regarding copyright ownership.\n+  ~ The ASF licenses this file to You under the Apache License, Version 2.0\n+  ~ (the \"License\"); you may not use this file except in compliance with\n+  ~ the License.  You may obtain a copy of the License at\n+  ~\n+  ~      http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing, software\n+  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~ See the License for the specific language governing permissions and\n+  ~ limitations under the License.\n+  -->\n+<beans xmlns=\"http://www.springframework.org/schema/beans\"\n+       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+       xsi:schemaLocation=\"\n+       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n+       http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd\">\n+\n+    <camelContext id=\"camel\" xmlns=\"http://camel.apache.org/schema/spring\">\n+\n+        <!-- we define the yaml SnakeYAML data formats to be used -->\n+        <dataFormats>\n+            <yaml id=\"yaml-safe-constructor\"/>\n+\n+            <yaml id=\"yaml-type-constructor\" library=\"SnakeYAML\">\n+                <typeFilter value=\"org.apache.camel.component.snakeyaml.model.TestPojo\"/>\n+            </yaml>\n+\n+            <yaml id=\"yaml-type-constructor-strdef\" library=\"SnakeYAML\">\n+                <typeFilter value=\"org.apache.camel.component.snakeyaml.model.TestPojo\"/>\n+                <typeFilter value=\"org.apache.camel.component.snakeyaml.model.Rex.*\" type=\"regexp\"/>\n+            </yaml>\n+\n+            <yaml id=\"yaml-all-constructor\" allowAnyType=\"true\"/>\n+        </dataFormats>\n+\n+\n+        <route>\n+            <from uri=\"direct:safe-constructor\"/>\n+            <unmarshal ref=\"yaml-safe-constructor\"/>\n+        </route>\n+        <route>\n+            <from uri=\"direct:type-constructor\"/>\n+            <unmarshal ref=\"yaml-type-constructor\"/>\n+        </route>\n+        <route>\n+            <from uri=\"direct:type-constructor-strdef\"/>\n+            <unmarshal ref=\"yaml-type-constructor-strdef\"/>\n+        </route>\n+        <route>\n+            <from uri=\"direct:all-constructor\"/>\n+            <unmarshal ref=\"yaml-all-constructor\"/>\n+        </route>\n+    </camelContext>\n+</beans>"
        }
    ]
}