{
    "sha": "899b8b0db3d40603488ad50f116ab9e68021ba35",
    "node_id": "MDY6Q29tbWl0MTA3Mjg0NTo4OTliOGIwZGIzZDQwNjAzNDg4YWQ1MGYxMTZhYjllNjgwMjFiYTM1",
    "commit": {
        "author": {
            "name": "Oliver Drotbohm",
            "email": "ogierke@pivotal.io",
            "date": "2019-03-28T15:51:43Z"
        },
        "committer": {
            "name": "Oliver Drotbohm",
            "email": "ogierke@pivotal.io",
            "date": "2019-04-01T08:41:32Z"
        },
        "message": "DATAJPA-1519 - Polishing.\n\nMoved the registration of the escape(\u2026) SpEL function into an EvaluationContextExtension to avoid the need for a dedicated static method on EscapeCharacter. Moved Escape Character in the \u2026.repository.query package to remove the package cycle.",
        "tree": {
            "sha": "5bd4776b4b79ff70afc8df621407bec73558fbda",
            "url": "https://api.github.com/repos/spring-projects/spring-data-jpa/git/trees/5bd4776b4b79ff70afc8df621407bec73558fbda"
        },
        "url": "https://api.github.com/repos/spring-projects/spring-data-jpa/git/commits/899b8b0db3d40603488ad50f116ab9e68021ba35",
        "comment_count": 0,
        "verification": {
            "verified": false,
            "reason": "unsigned",
            "signature": null,
            "payload": null,
            "verified_at": null
        }
    },
    "url": "https://api.github.com/repos/spring-projects/spring-data-jpa/commits/899b8b0db3d40603488ad50f116ab9e68021ba35",
    "html_url": "https://github.com/spring-projects/spring-data-jpa/commit/899b8b0db3d40603488ad50f116ab9e68021ba35",
    "comments_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/commits/899b8b0db3d40603488ad50f116ab9e68021ba35/comments",
    "author": {
        "login": "odrotbohm",
        "id": 128577,
        "node_id": "MDQ6VXNlcjEyODU3Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/128577?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/odrotbohm",
        "html_url": "https://github.com/odrotbohm",
        "followers_url": "https://api.github.com/users/odrotbohm/followers",
        "following_url": "https://api.github.com/users/odrotbohm/following{/other_user}",
        "gists_url": "https://api.github.com/users/odrotbohm/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/odrotbohm/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/odrotbohm/subscriptions",
        "organizations_url": "https://api.github.com/users/odrotbohm/orgs",
        "repos_url": "https://api.github.com/users/odrotbohm/repos",
        "events_url": "https://api.github.com/users/odrotbohm/events{/privacy}",
        "received_events_url": "https://api.github.com/users/odrotbohm/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
    },
    "committer": {
        "login": "odrotbohm",
        "id": 128577,
        "node_id": "MDQ6VXNlcjEyODU3Nw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/128577?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/odrotbohm",
        "html_url": "https://github.com/odrotbohm",
        "followers_url": "https://api.github.com/users/odrotbohm/followers",
        "following_url": "https://api.github.com/users/odrotbohm/following{/other_user}",
        "gists_url": "https://api.github.com/users/odrotbohm/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/odrotbohm/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/odrotbohm/subscriptions",
        "organizations_url": "https://api.github.com/users/odrotbohm/orgs",
        "repos_url": "https://api.github.com/users/odrotbohm/repos",
        "events_url": "https://api.github.com/users/odrotbohm/events{/privacy}",
        "received_events_url": "https://api.github.com/users/odrotbohm/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
    },
    "parents": [
        {
            "sha": "4d4e6d418fe3bca14c7cff1c7161e3794026f960",
            "url": "https://api.github.com/repos/spring-projects/spring-data-jpa/commits/4d4e6d418fe3bca14c7cff1c7161e3794026f960",
            "html_url": "https://github.com/spring-projects/spring-data-jpa/commit/4d4e6d418fe3bca14c7cff1c7161e3794026f960"
        }
    ],
    "stats": {
        "total": 204,
        "additions": 170,
        "deletions": 34
    },
    "files": [
        {
            "sha": "b2a3802d8be20a0037aeaa0bf5f870bf4247564b",
            "filename": "src/main/java/org/springframework/data/jpa/repository/config/JpaRepositoryConfigExtension.java",
            "status": "modified",
            "additions": 25,
            "deletions": 3,
            "changes": 28,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fconfig%2FJpaRepositoryConfigExtension.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fconfig%2FJpaRepositoryConfigExtension.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fconfig%2FJpaRepositoryConfigExtension.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -45,6 +45,7 @@\n import org.springframework.data.jpa.repository.JpaRepository;\n import org.springframework.data.jpa.repository.support.DefaultJpaContext;\n import org.springframework.data.jpa.repository.support.EntityManagerBeanDefinitionRegistrarPostProcessor;\n+import org.springframework.data.jpa.repository.support.JpaEvaluationContextExtension;\n import org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean;\n import org.springframework.data.repository.config.AnnotationRepositoryConfigurationSource;\n import org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport;\n@@ -76,6 +77,7 @@ public class JpaRepositoryConfigExtension extends RepositoryConfigurationExtensi\n \tprivate static final String DEFAULT_TRANSACTION_MANAGER_BEAN_NAME = \"transactionManager\";\n \tprivate static final String ENABLE_DEFAULT_TRANSACTIONS_ATTRIBUTE = \"enableDefaultTransactions\";\n \tprivate static final String JPA_METAMODEL_CACHE_CLEANUP_CLASSNAME = \"org.springframework.data.jpa.util.JpaMetamodelCacheCleanup\";\n+\tprivate static final String ESCAPE_CHARACTER_PROPERTY = \"escapeCharacter\";\n \n \t/*\n \t * (non-Javadoc)\n@@ -132,17 +134,23 @@ public void postProcess(BeanDefinitionBuilder builder, RepositoryConfigurationSo\n \t\tOptional<String> transactionManagerRef = source.getAttribute(\"transactionManagerRef\");\n \t\tbuilder.addPropertyValue(\"transactionManager\", transactionManagerRef.orElse(DEFAULT_TRANSACTION_MANAGER_BEAN_NAME));\n \t\tbuilder.addPropertyValue(\"entityManager\", getEntityManagerBeanDefinitionFor(source, source.getSource()));\n-\t\tbuilder.addPropertyValue(\"escapeCharacter\", getEscapeCharacter(source).orElse('\\\\'));\n+\t\tbuilder.addPropertyValue(ESCAPE_CHARACTER_PROPERTY, getEscapeCharacter(source).orElse('\\\\'));\n \t\tbuilder.addPropertyReference(\"mappingContext\", JPA_MAPPING_CONTEXT_BEAN_NAME);\n \t}\n \n \t/**\n-\t * XML configurations do not support {@link Character} values. This method catches the exception thrown and returns an {@link Optional#empty()} instead.\n+\t * XML configurations do not support {@link Character} values. This method catches the exception thrown and returns an\n+\t * {@link Optional#empty()} instead.\n \t */\n \tprivate static Optional<Character> getEscapeCharacter(RepositoryConfigurationSource source) {\n \n \t\ttry {\n-\t\t\treturn source.getAttribute(\"escapeCharacter\", Character.class);\n+\n+\t\t\treturn AnnotationRepositoryConfigurationSource.class.isInstance(source) //\n+\t\t\t\t\t? Optional.ofNullable((Character) AnnotationRepositoryConfigurationSource.class.cast(source).getAttributes()\n+\t\t\t\t\t\t\t.get(ESCAPE_CHARACTER_PROPERTY)) //\n+\t\t\t\t\t: source.getAttribute(ESCAPE_CHARACTER_PROPERTY).map(it -> it.toCharArray()[0]);\n+\n \t\t} catch (IllegalArgumentException ___) {\n \t\t\treturn Optional.empty();\n \t\t}\n@@ -203,12 +211,26 @@ public void registerBeansForRoot(BeanDefinitionRegistry registry, RepositoryConf\n \t\tregisterIfNotAlreadyRegistered(contextDefinition, registry, JPA_CONTEXT_BEAN_NAME, source);\n \t\tregisterIfNotAlreadyRegistered(new RootBeanDefinition(JPA_METAMODEL_CACHE_CLEANUP_CLASSNAME), registry,\n \t\t\t\tJPA_METAMODEL_CACHE_CLEANUP_CLASSNAME, source);\n+\n+\t\t// EvaluationContextExtension for JPA specific SpEL functions\n+\n+\t\tregisterIfNotAlreadyRegistered(() -> {\n+\n+\t\t\tObject value = getEscapeCharacter(config).orElse('\\\\');\n+\n+\t\t\tBeanDefinitionBuilder builder = BeanDefinitionBuilder.rootBeanDefinition(JpaEvaluationContextExtension.class);\n+\t\t\tbuilder.addConstructorArgValue(value);\n+\n+\t\t\treturn builder.getBeanDefinition();\n+\n+\t\t}, registry, JpaEvaluationContextExtension.class.getName(), source);\n \t}\n \n \t/*\n \t * (non-Javadoc)\n \t * @see org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport#getConfigurationInspectionClassLoader(org.springframework.core.io.ResourceLoader)\n \t */\n+\t@Override\n \tprotected ClassLoader getConfigurationInspectionClassLoader(ResourceLoader loader) {\n \n \t\tClassLoader classLoader = loader.getClassLoader();"
        },
        {
            "sha": "269fa44ae73df830e4eb4956cd4716e925623bb7",
            "filename": "src/main/java/org/springframework/data/jpa/repository/query/EscapeCharacter.java",
            "status": "renamed",
            "additions": 18,
            "deletions": 13,
            "changes": 31,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FEscapeCharacter.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FEscapeCharacter.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FEscapeCharacter.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -13,35 +13,40 @@\n  * See the License for the specific language governing permissions and\n  * limitations under the License.\n  */\n-package org.springframework.data.jpa.repository.support;\n+package org.springframework.data.jpa.repository.query;\n \n import lombok.Value;\n \n+import java.util.Arrays;\n+import java.util.List;\n+\n import org.springframework.util.Assert;\n \n /**\n- * A Value-class encapsulating an escape character for LIKE queries and the actually usage of it in escaping Strings.\n+ * A value type encapsulating an escape character for LIKE queries and the actually usage of it in escaping\n+ * {@link String}s.\n  *\n  * @author Jens Schauder\n+ * @author Oliver Drotbohm\n  */\n @Value(staticConstructor = \"of\")\n public class EscapeCharacter {\n+\n+\tprivate static final List<String> TO_REPLACE = Arrays.asList(\"_\", \"%\");\n+\n \tchar value;\n \n+\t/**\n+\t * Escapes all special like characters ({@code _}, {@code %}) using the configured escape character.\n+\t *\n+\t * @param value must not be {@literal null}.\n+\t * @return\n+\t */\n \tpublic String escape(String value) {\n \n \t\tAssert.notNull(value, \"Value must be not null.\");\n \n-\t\treturn value.replace(\"_\", value + \"_\").replace(\"%\", value + \"%\");\n-\t}\n-\n-\t// used for SpEL expressions\n-\tstatic String escape(String value, String escape) {\n-\n-\t\tAssert.hasText(escape, \"escape must be a sinlge character String.\");\n-\t\tchar[] chars = escape.toCharArray();\n-\t\tAssert.isTrue(chars.length == 1, \"escape must be a single character String.\");\n-\n-\t\treturn EscapeCharacter.of(chars[0]).escape(value);\n+\t\treturn TO_REPLACE.stream() //\n+\t\t\t\t.reduce(value, (it, character) -> it.replace(character, this.value + character));\n \t}\n }",
            "previous_filename": "src/main/java/org/springframework/data/jpa/repository/support/EscapeCharacter.java"
        },
        {
            "sha": "76bd83c95f8c6e64b6770ec67575f50bf1444c0d",
            "filename": "src/main/java/org/springframework/data/jpa/repository/query/JpaQueryCreator.java",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FJpaQueryCreator.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FJpaQueryCreator.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FJpaQueryCreator.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -36,7 +36,6 @@\n \n import org.springframework.data.domain.Sort;\n import org.springframework.data.jpa.repository.query.ParameterMetadataProvider.ParameterMetadata;\n-import org.springframework.data.jpa.repository.support.EscapeCharacter;\n import org.springframework.data.mapping.PropertyPath;\n import org.springframework.data.repository.query.ReturnedType;\n import org.springframework.data.repository.query.parser.AbstractQueryCreator;"
        },
        {
            "sha": "3d87f946bafb087116117375aa20a1c8340824b1",
            "filename": "src/main/java/org/springframework/data/jpa/repository/query/JpaQueryLookupStrategy.java",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FJpaQueryLookupStrategy.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FJpaQueryLookupStrategy.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FJpaQueryLookupStrategy.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -22,7 +22,6 @@\n import org.springframework.data.jpa.provider.PersistenceProvider;\n import org.springframework.data.jpa.provider.QueryExtractor;\n import org.springframework.data.jpa.repository.Query;\n-import org.springframework.data.jpa.repository.support.EscapeCharacter;\n import org.springframework.data.projection.ProjectionFactory;\n import org.springframework.data.repository.core.NamedQueries;\n import org.springframework.data.repository.core.RepositoryMetadata;"
        },
        {
            "sha": "06102bae92c094383e9ef46078f813fbf0b83edd",
            "filename": "src/main/java/org/springframework/data/jpa/repository/query/ParameterMetadataProvider.java",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FParameterMetadataProvider.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FParameterMetadataProvider.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FParameterMetadataProvider.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -27,7 +27,6 @@\n import javax.persistence.criteria.ParameterExpression;\n \n import org.springframework.data.jpa.provider.PersistenceProvider;\n-import org.springframework.data.jpa.repository.support.EscapeCharacter;\n import org.springframework.data.repository.query.Parameter;\n import org.springframework.data.repository.query.Parameters;\n import org.springframework.data.repository.query.ParametersParameterAccessor;"
        },
        {
            "sha": "561c67e80e36646b5e17dee08e2d5f02a5026915",
            "filename": "src/main/java/org/springframework/data/jpa/repository/query/PartTreeJpaQuery.java",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FPartTreeJpaQuery.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FPartTreeJpaQuery.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FPartTreeJpaQuery.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -29,7 +29,6 @@\n import org.springframework.data.jpa.repository.query.JpaQueryExecution.DeleteExecution;\n import org.springframework.data.jpa.repository.query.JpaQueryExecution.ExistsExecution;\n import org.springframework.data.jpa.repository.query.ParameterMetadataProvider.ParameterMetadata;\n-import org.springframework.data.jpa.repository.support.EscapeCharacter;\n import org.springframework.data.repository.query.ParametersParameterAccessor;\n import org.springframework.data.repository.query.ResultProcessor;\n import org.springframework.data.repository.query.ReturnedType;"
        },
        {
            "sha": "ed97c6d85f78cc6bb3fa04df29a88553d7924cdf",
            "filename": "src/main/java/org/springframework/data/jpa/repository/query/QueryParameterSetterFactory.java",
            "status": "modified",
            "additions": 0,
            "deletions": 6,
            "changes": 6,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FQueryParameterSetterFactory.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FQueryParameterSetterFactory.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FQueryParameterSetterFactory.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -15,7 +15,6 @@\n  */\n package org.springframework.data.jpa.repository.query;\n \n-import java.lang.reflect.Method;\n import java.util.List;\n import java.util.function.Function;\n \n@@ -35,7 +34,6 @@\n import org.springframework.expression.spel.standard.SpelExpressionParser;\n import org.springframework.lang.Nullable;\n import org.springframework.util.Assert;\n-import org.springframework.util.ReflectionUtils;\n \n /**\n  * Encapsulates different strategies for the creation of a {@link QueryParameterSetter} from a {@link Query} and a\n@@ -177,11 +175,7 @@ public QueryParameterSetter create(ParameterBinding binding, DeclaredQuery decla\n \t\tprivate Object evaluateExpression(Expression expression, Object[] values) {\n \n \t\t\tEvaluationContext context = evaluationContextProvider.getEvaluationContext(parameters, values);\n-\t\t\tMethod escapeMethod = ReflectionUtils.findMethod(EscapeCharacter.class, \"escape\", String.class, String.class);\n \n-\t\t\tAssert.notNull(escapeMethod, \"Escape method must not be null.\");\n-\n-\t\t\tcontext.setVariable(\"escape\", escapeMethod);\n \t\t\treturn expression.getValue(context, Object.class);\n \t\t}\n \t}"
        },
        {
            "sha": "686e430c2881f0faa2ccbe846ff35beffd76d6b6",
            "filename": "src/main/java/org/springframework/data/jpa/repository/support/JpaEvaluationContextExtension.java",
            "status": "added",
            "additions": 57,
            "deletions": 0,
            "changes": 57,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fsupport%2FJpaEvaluationContextExtension.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fsupport%2FJpaEvaluationContextExtension.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fsupport%2FJpaEvaluationContextExtension.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -0,0 +1,57 @@\n+/*\n+ * Copyright 2019 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package org.springframework.data.jpa.repository.support;\n+\n+import org.springframework.data.jpa.repository.query.EscapeCharacter;\n+import org.springframework.data.spel.spi.EvaluationContextExtension;\n+\n+/**\n+ * {@link EvaluationContextExtension} to register {@link EscapeCharacter} as root object to essentially expose an\n+ * {@code expose(\u2026)} function to SpEL.\n+ *\n+ * @author Oliver Drotbohm\n+ */\n+public class JpaEvaluationContextExtension implements EvaluationContextExtension {\n+\n+\tprivate final EscapeCharacter character;\n+\n+\t/**\n+\t * Creates a new {@link JpaEvaluationContextExtension} for the given escape character.\n+\t *\n+\t * @param escapeCharacter the character to be used to escape parameters for LIKE expression.\n+\t */\n+\tpublic JpaEvaluationContextExtension(char escapeCharacter) {\n+\t\tthis.character = EscapeCharacter.of(escapeCharacter);\n+\t}\n+\n+\t/*\n+\t * (non-Javadoc)\n+\t * @see org.springframework.data.spel.spi.EvaluationContextExtension#getExtensionId()\n+\t */\n+\t@Override\n+\tpublic String getExtensionId() {\n+\t\treturn \"jpa\";\n+\t}\n+\n+\t/*\n+\t * (non-Javadoc)\n+\t * @see org.springframework.data.spel.spi.EvaluationContextExtension#getRootObject()\n+\t */\n+\t@Override\n+\tpublic Object getRootObject() {\n+\t\treturn character;\n+\t}\n+}"
        },
        {
            "sha": "b8ea7f4a43f21a57b80f1b9571c49cb16e59b364",
            "filename": "src/main/java/org/springframework/data/jpa/repository/support/JpaRepositoryFactory.java",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fsupport%2FJpaRepositoryFactory.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fsupport%2FJpaRepositoryFactory.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fsupport%2FJpaRepositoryFactory.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -30,6 +30,7 @@\n import org.springframework.data.jpa.provider.QueryExtractor;\n import org.springframework.data.jpa.repository.JpaRepository;\n import org.springframework.data.jpa.repository.query.AbstractJpaQuery;\n+import org.springframework.data.jpa.repository.query.EscapeCharacter;\n import org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy;\n import org.springframework.data.jpa.repository.query.JpaQueryMethod;\n import org.springframework.data.jpa.util.JpaMetamodel;"
        },
        {
            "sha": "4adea15495e0f317026fc75c56501a2a6343bc3c",
            "filename": "src/main/java/org/springframework/data/jpa/repository/support/JpaRepositoryFactoryBean.java",
            "status": "modified",
            "additions": 1,
            "deletions": 0,
            "changes": 1,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fsupport%2FJpaRepositoryFactoryBean.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fsupport%2FJpaRepositoryFactoryBean.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Fmain%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fsupport%2FJpaRepositoryFactoryBean.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -22,6 +22,7 @@\n import org.springframework.data.repository.Repository;\n import org.springframework.data.repository.core.support.RepositoryFactorySupport;\n import org.springframework.data.repository.core.support.TransactionalRepositoryFactoryBeanSupport;\n+import org.springframework.data.jpa.repository.query.EscapeCharacter;\n import org.springframework.lang.Nullable;\n import org.springframework.util.Assert;\n "
        },
        {
            "sha": "93521b27d234bca7e476fdcd5a5e59dfc5360087",
            "filename": "src/main/resources/META-INF/spring.schemas",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fresources%2FMETA-INF%2Fspring.schemas",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fresources%2FMETA-INF%2Fspring.schemas",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Fmain%2Fresources%2FMETA-INF%2Fspring.schemas?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -3,4 +3,5 @@ http\\://www.springframework.org/schema/data/jpa/spring-jpa-1.1.xsd=org/springfra\n http\\://www.springframework.org/schema/data/jpa/spring-jpa-1.2.xsd=org/springframework/data/jpa/repository/config/spring-jpa-1.2.xsd\n http\\://www.springframework.org/schema/data/jpa/spring-jpa-1.3.xsd=org/springframework/data/jpa/repository/config/spring-jpa-1.3.xsd\n http\\://www.springframework.org/schema/data/jpa/spring-jpa-1.8.xsd=org/springframework/data/jpa/repository/config/spring-jpa-1.8.xsd\n-http\\://www.springframework.org/schema/data/jpa/spring-jpa.xsd=org/springframework/data/jpa/repository/config/spring-jpa-1.8.xsd\n+http\\://www.springframework.org/schema/data/jpa/spring-jpa-1.11.xsd=org/springframework/data/jpa/repository/config/spring-jpa-1.11.xsd\n+http\\://www.springframework.org/schema/data/jpa/spring-jpa.xsd=org/springframework/data/jpa/repository/config/spring-jpa-1.11.xsd"
        },
        {
            "sha": "093f57b60f2f1edf2a7fdea3ca5eff44c0aa2874",
            "filename": "src/main/resources/org/springframework/data/jpa/repository/config/spring-jpa-1.11.xsd",
            "status": "added",
            "additions": 65,
            "deletions": 0,
            "changes": 65,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fresources%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fconfig%2Fspring-jpa-1.11.xsd",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Fmain%2Fresources%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fconfig%2Fspring-jpa-1.11.xsd",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Fmain%2Fresources%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fconfig%2Fspring-jpa-1.11.xsd?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -0,0 +1,65 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<xsd:schema xmlns=\"http://www.springframework.org/schema/data/jpa\"\n+\txmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" \n+\txmlns:tool=\"http://www.springframework.org/schema/tool\"\n+\txmlns:context=\"http://www.springframework.org/schema/context\"\n+\txmlns:repository=\"http://www.springframework.org/schema/data/repository\"\n+\ttargetNamespace=\"http://www.springframework.org/schema/data/jpa\"\n+\telementFormDefault=\"qualified\" attributeFormDefault=\"unqualified\">\n+\n+\t<xsd:import namespace=\"http://www.springframework.org/schema/tool\" />\n+\t<xsd:import namespace=\"http://www.springframework.org/schema/context\" />\n+\t<xsd:import namespace=\"http://www.springframework.org/schema/data/repository\"\n+\t\tschemaLocation=\"https://www.springframework.org/schema/data/repository/spring-repository.xsd\" />\n+\n+\t<xsd:element name=\"repositories\">\n+\t\t<xsd:complexType>\n+\t\t\t<xsd:complexContent>\n+\t\t\t\t<xsd:extension base=\"repository:repositories\">\n+\t\t\t\t\t<xsd:attributeGroup ref=\"repository:transactional-repository-attributes\" />\n+\t\t\t\t\t<xsd:attribute name=\"entity-manager-factory-ref\" type=\"entityManagerFactoryRef\" />\n+\t\t\t\t\t<xsd:attribute name=\"enable-default-transactions\" type=\"xsd:boolean\">\n+\t\t\t\t\t\t<xsd:annotation>\n+\t\t\t\t\t\t\t<xsd:documentation><![CDATA[\n+   \t\t\t\t\t\t\tControls whether repositories get transactions enabled by default. \n+\t\t\t\t\t\t\t]]></xsd:documentation>\n+\t\t\t\t\t\t</xsd:annotation>\n+\t\t\t\t\t</xsd:attribute>\n+\t\t\t\t\t<xsd:attribute name=\"escape-character\" type=\"xsd:string\" default=\"\\\">\n+\t\t\t\t\t\t<xsd:annotation>\n+\t\t\t\t\t\t\t<xsd:documentation><![CDATA[\n+\t\t\t\t\t\t\tConfigures what character is used to escape the LIKE wildcards _ and % in derived queries with contains, startsWith or endsWith clauses. Defaults to \\. \n+\t\t\t\t\t\t\t]]></xsd:documentation>\n+\t\t\t\t\t\t</xsd:annotation>\n+\t\t\t\t\t</xsd:attribute>\n+\t\t\t\t</xsd:extension>\n+\t\t\t</xsd:complexContent>\n+\t\t</xsd:complexType>\n+\t</xsd:element>\n+\n+\t<xsd:element name=\"auditing\">\n+\t\t<xsd:annotation>\n+\t\t\t<xsd:appinfo>\n+\t\t\t\t<tool:annotation>\n+\t\t\t\t\t<tool:exports type=\"org.springframework.data.jpa.domain.support.AuditingEntityListener\" />\n+\t\t\t\t\t<tool:exports type=\"org.springframework.data.auditing.AuditingHandler\" />\n+\t\t\t\t</tool:annotation>\n+\t\t\t</xsd:appinfo>\n+\t\t</xsd:annotation>\n+\t\t<xsd:complexType>\n+\t\t\t<xsd:attributeGroup ref=\"repository:auditing-attributes\" />\n+\t\t</xsd:complexType>\n+\t</xsd:element>\n+\n+\t<xsd:simpleType name=\"entityManagerFactoryRef\">\n+\t\t<xsd:annotation>\n+\t\t\t<xsd:appinfo>\n+\t\t\t\t<tool:annotation kind=\"ref\">\n+\t\t\t\t\t<tool:assignable-to type=\"org.springframework.orm.jpa.AbstractEntityManagerFactoryBean\" />\n+\t\t\t\t</tool:annotation>\n+\t\t\t</xsd:appinfo>\n+\t\t</xsd:annotation>\n+\t\t<xsd:union memberTypes=\"xsd:string\" />\n+\t</xsd:simpleType>\n+\n+</xsd:schema>\n\\ No newline at end of file"
        },
        {
            "sha": "e62b2168f17e11cb26b7b367c4a8247b816c6fc1",
            "filename": "src/test/java/org/springframework/data/jpa/repository/query/JpaCountQueryCreatorIntegrationTests.java",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FJpaCountQueryCreatorIntegrationTests.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FJpaCountQueryCreatorIntegrationTests.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FJpaCountQueryCreatorIntegrationTests.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -31,7 +31,6 @@\n import org.springframework.data.jpa.domain.sample.User;\n import org.springframework.data.jpa.provider.HibernateUtils;\n import org.springframework.data.jpa.provider.PersistenceProvider;\n-import org.springframework.data.jpa.repository.support.EscapeCharacter;\n import org.springframework.data.projection.SpelAwareProxyProjectionFactory;\n import org.springframework.data.repository.Repository;\n import org.springframework.data.repository.core.support.AbstractRepositoryMetadata;"
        },
        {
            "sha": "d0b95108c8227f992f338c319621e7469ba1904f",
            "filename": "src/test/java/org/springframework/data/jpa/repository/query/JpaQueryLookupStrategyUnitTests.java",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FJpaQueryLookupStrategyUnitTests.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FJpaQueryLookupStrategyUnitTests.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FJpaQueryLookupStrategyUnitTests.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -35,7 +35,6 @@\n import org.springframework.data.jpa.domain.sample.User;\n import org.springframework.data.jpa.provider.QueryExtractor;\n import org.springframework.data.jpa.repository.Query;\n-import org.springframework.data.jpa.repository.support.EscapeCharacter;\n import org.springframework.data.projection.ProjectionFactory;\n import org.springframework.data.repository.Repository;\n import org.springframework.data.repository.core.NamedQueries;"
        },
        {
            "sha": "5cbfa5cbe687a88e43647c21fc1ef4537916f6d0",
            "filename": "src/test/java/org/springframework/data/jpa/repository/query/ParameterExpressionProviderTests.java",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FParameterExpressionProviderTests.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FParameterExpressionProviderTests.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FParameterExpressionProviderTests.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -29,7 +29,6 @@\n import org.junit.runner.RunWith;\n import org.springframework.data.jpa.domain.sample.User;\n import org.springframework.data.jpa.provider.PersistenceProvider;\n-import org.springframework.data.jpa.repository.support.EscapeCharacter;\n import org.springframework.data.repository.query.DefaultParameters;\n import org.springframework.data.repository.query.Parameters;\n import org.springframework.data.repository.query.ParametersParameterAccessor;"
        },
        {
            "sha": "17b524b59c6d53d1effab98f6226e81bd219b4c1",
            "filename": "src/test/java/org/springframework/data/jpa/repository/query/ParameterMetadataProviderIntegrationTests.java",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FParameterMetadataProviderIntegrationTests.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FParameterMetadataProviderIntegrationTests.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FParameterMetadataProviderIntegrationTests.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -28,7 +28,6 @@\n import org.springframework.data.jpa.domain.sample.User;\n import org.springframework.data.jpa.provider.PersistenceProvider;\n import org.springframework.data.jpa.repository.query.ParameterMetadataProvider.ParameterMetadata;\n-import org.springframework.data.jpa.repository.support.EscapeCharacter;\n import org.springframework.data.repository.query.Param;\n import org.springframework.data.repository.query.Parameters;\n import org.springframework.data.repository.query.parser.Part;"
        },
        {
            "sha": "6796fedd7451d06cec56e6b9a9ad595b197a0921",
            "filename": "src/test/java/org/springframework/data/jpa/repository/query/ParameterMetadataProviderUnitTests.java",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FParameterMetadataProviderUnitTests.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FParameterMetadataProviderUnitTests.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FParameterMetadataProviderUnitTests.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -24,7 +24,6 @@\n \n import org.junit.Test;\n import org.springframework.data.jpa.provider.PersistenceProvider;\n-import org.springframework.data.jpa.repository.support.EscapeCharacter;\n import org.springframework.data.repository.query.Parameters;\n import org.springframework.data.repository.query.parser.Part;\n "
        },
        {
            "sha": "91d906f2292fd3ca422eec21e28291278d4aee57",
            "filename": "src/test/java/org/springframework/data/jpa/repository/query/PartTreeJpaQueryIntegrationTests.java",
            "status": "modified",
            "additions": 0,
            "deletions": 1,
            "changes": 1,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FPartTreeJpaQueryIntegrationTests.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FPartTreeJpaQueryIntegrationTests.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fquery%2FPartTreeJpaQueryIntegrationTests.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -44,7 +44,6 @@\n import org.springframework.data.jpa.provider.HibernateUtils;\n import org.springframework.data.jpa.provider.PersistenceProvider;\n import org.springframework.data.jpa.repository.Temporal;\n-import org.springframework.data.jpa.repository.support.EscapeCharacter;\n import org.springframework.data.projection.SpelAwareProxyProjectionFactory;\n import org.springframework.data.repository.Repository;\n import org.springframework.data.repository.core.support.DefaultRepositoryMetadata;"
        },
        {
            "sha": "a4216a53994a4844c4a5d5fcade469e89c113ba4",
            "filename": "src/test/java/org/springframework/data/jpa/repository/sample/UserRepository.java",
            "status": "modified",
            "additions": 1,
            "deletions": 1,
            "changes": 2,
            "blob_url": "https://github.com/spring-projects/spring-data-jpa/blob/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fsample%2FUserRepository.java",
            "raw_url": "https://github.com/spring-projects/spring-data-jpa/raw/899b8b0db3d40603488ad50f116ab9e68021ba35/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fsample%2FUserRepository.java",
            "contents_url": "https://api.github.com/repos/spring-projects/spring-data-jpa/contents/src%2Ftest%2Fjava%2Forg%2Fspringframework%2Fdata%2Fjpa%2Frepository%2Fsample%2FUserRepository.java?ref=899b8b0db3d40603488ad50f116ab9e68021ba35",
            "patch": "@@ -557,7 +557,7 @@ List<User> findUsersByFirstnameForSpELExpressionWithParameterIndexOnlyWithEntity\n \tList<NameOnlyDto> findByNamedQueryWithConstructorExpression();\n \n \t// DATAJPA-1519\n-\t@Query(\"select u from User u where u.firstname like %?#{#escape([0],'#')}% escape '#'\")\n+\t@Query(\"select u from User u where u.firstname like %?#{escape([0])}% escape '\\\\'\")\n \tList<User> findContainingEscaped(String namePart);\n \n \tinterface RolesAndFirstname {"
        }
    ]
}