{
    "sha": "3ccb46dd16b6ec98f70b0ee53eafe5ed6380891e",
    "node_id": "MDY6Q29tbWl0NTE1MjI4NTozY2NiNDZkZDE2YjZlYzk4ZjcwYjBlZTUzZWFmZTVlZDYzODA4OTFl",
    "commit": {
        "author": {
            "name": "Jesse Wilson",
            "email": "jesse@swank.ca",
            "date": "2016-02-09T16:20:54Z"
        },
        "committer": {
            "name": "Jesse Wilson",
            "email": "jesse@swank.ca",
            "date": "2016-02-09T16:20:54Z"
        },
        "message": "Merge pull request #2330 from square/jwilson_0209_dont_pay\n\nDon't pay to clean certificates if we aren't pinning.",
        "tree": {
            "sha": "986ba2604cc84218c7f92aa2bf80ef497d38775d",
            "url": "https://api.github.com/repos/square/okhttp/git/trees/986ba2604cc84218c7f92aa2bf80ef497d38775d"
        },
        "url": "https://api.github.com/repos/square/okhttp/git/commits/3ccb46dd16b6ec98f70b0ee53eafe5ed6380891e",
        "comment_count": 0,
        "verification": {
            "verified": false,
            "reason": "unsigned",
            "signature": null,
            "payload": null,
            "verified_at": null
        }
    },
    "url": "https://api.github.com/repos/square/okhttp/commits/3ccb46dd16b6ec98f70b0ee53eafe5ed6380891e",
    "html_url": "https://github.com/square/okhttp/commit/3ccb46dd16b6ec98f70b0ee53eafe5ed6380891e",
    "comments_url": "https://api.github.com/repos/square/okhttp/commits/3ccb46dd16b6ec98f70b0ee53eafe5ed6380891e/comments",
    "author": {
        "login": "swankjesse",
        "id": 133019,
        "node_id": "MDQ6VXNlcjEzMzAxOQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/133019?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/swankjesse",
        "html_url": "https://github.com/swankjesse",
        "followers_url": "https://api.github.com/users/swankjesse/followers",
        "following_url": "https://api.github.com/users/swankjesse/following{/other_user}",
        "gists_url": "https://api.github.com/users/swankjesse/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/swankjesse/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/swankjesse/subscriptions",
        "organizations_url": "https://api.github.com/users/swankjesse/orgs",
        "repos_url": "https://api.github.com/users/swankjesse/repos",
        "events_url": "https://api.github.com/users/swankjesse/events{/privacy}",
        "received_events_url": "https://api.github.com/users/swankjesse/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
    },
    "committer": {
        "login": "swankjesse",
        "id": 133019,
        "node_id": "MDQ6VXNlcjEzMzAxOQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/133019?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/swankjesse",
        "html_url": "https://github.com/swankjesse",
        "followers_url": "https://api.github.com/users/swankjesse/followers",
        "following_url": "https://api.github.com/users/swankjesse/following{/other_user}",
        "gists_url": "https://api.github.com/users/swankjesse/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/swankjesse/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/swankjesse/subscriptions",
        "organizations_url": "https://api.github.com/users/swankjesse/orgs",
        "repos_url": "https://api.github.com/users/swankjesse/repos",
        "events_url": "https://api.github.com/users/swankjesse/events{/privacy}",
        "received_events_url": "https://api.github.com/users/swankjesse/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
    },
    "parents": [
        {
            "sha": "c2e5cc468d7adb621cfed07aa4960d41d722bbf4",
            "url": "https://api.github.com/repos/square/okhttp/commits/c2e5cc468d7adb621cfed07aa4960d41d722bbf4",
            "html_url": "https://github.com/square/okhttp/commit/c2e5cc468d7adb621cfed07aa4960d41d722bbf4"
        },
        {
            "sha": "456a7456ec673d3e417b1d5f9b3447bf3366d312",
            "url": "https://api.github.com/repos/square/okhttp/commits/456a7456ec673d3e417b1d5f9b3447bf3366d312",
            "html_url": "https://github.com/square/okhttp/commit/456a7456ec673d3e417b1d5f9b3447bf3366d312"
        }
    ],
    "stats": {
        "total": 8,
        "additions": 4,
        "deletions": 4
    },
    "files": [
        {
            "sha": "e485c87f52a76ba51cbdadec1a4ed24f4c7380ba",
            "filename": "okhttp/src/main/java/okhttp3/CertificatePinner.java",
            "status": "modified",
            "additions": 4,
            "deletions": 4,
            "changes": 8,
            "blob_url": "https://github.com/square/okhttp/blob/3ccb46dd16b6ec98f70b0ee53eafe5ed6380891e/okhttp%2Fsrc%2Fmain%2Fjava%2Fokhttp3%2FCertificatePinner.java",
            "raw_url": "https://github.com/square/okhttp/raw/3ccb46dd16b6ec98f70b0ee53eafe5ed6380891e/okhttp%2Fsrc%2Fmain%2Fjava%2Fokhttp3%2FCertificatePinner.java",
            "contents_url": "https://api.github.com/repos/square/okhttp/contents/okhttp%2Fsrc%2Fmain%2Fjava%2Fokhttp3%2FCertificatePinner.java?ref=3ccb46dd16b6ec98f70b0ee53eafe5ed6380891e",
            "patch": "@@ -147,14 +147,14 @@ private CertificatePinner(Builder builder) {\n    */\n   public void check(String hostname, List<Certificate> peerCertificates)\n       throws SSLPeerUnverifiedException {\n-    if (trustRootIndex != null) {\n-      peerCertificates = new CertificateChainCleaner(trustRootIndex).clean(peerCertificates);\n-    }\n-\n     Set<ByteString> pins = findMatchingPins(hostname);\n \n     if (pins == null) return;\n \n+    if (trustRootIndex != null) {\n+      peerCertificates = new CertificateChainCleaner(trustRootIndex).clean(peerCertificates);\n+    }\n+\n     for (int i = 0, size = peerCertificates.size(); i < size; i++) {\n       X509Certificate x509Certificate = (X509Certificate) peerCertificates.get(i);\n       if (pins.contains(sha1(x509Certificate))) return; // Success!"
        }
    ]
}