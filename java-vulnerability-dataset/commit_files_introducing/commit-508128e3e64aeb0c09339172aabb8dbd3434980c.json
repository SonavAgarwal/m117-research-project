{
    "sha": "508128e3e64aeb0c09339172aabb8dbd3434980c",
    "node_id": "MDY6Q29tbWl0MjA2Mzg3OjUwODEyOGUzZTY0YWViMGMwOTMzOTE3MmFhYmI4ZGJkMzQzNDk4MGM=",
    "commit": {
        "author": {
            "name": "James Strachan",
            "email": "jstrachan@apache.org",
            "date": "2008-04-09T13:29:07Z"
        },
        "committer": {
            "name": "James Strachan",
            "email": "jstrachan@apache.org",
            "date": "2008-04-09T13:29:07Z"
        },
        "message": "updated to the latest/greatest jetty & sl4j along with patching the web console so it works again :)\n\ngit-svn-id: https://svn.apache.org/repos/asf/activemq/trunk@646334 13f79535-47bb-0310-9956-ffa450edef68",
        "tree": {
            "sha": "01e059ae7444fccd48bc0b9e3e94d60ca50ed1ab",
            "url": "https://api.github.com/repos/apache/activemq/git/trees/01e059ae7444fccd48bc0b9e3e94d60ca50ed1ab"
        },
        "url": "https://api.github.com/repos/apache/activemq/git/commits/508128e3e64aeb0c09339172aabb8dbd3434980c",
        "comment_count": 0,
        "verification": {
            "verified": false,
            "reason": "unsigned",
            "signature": null,
            "payload": null,
            "verified_at": null
        }
    },
    "url": "https://api.github.com/repos/apache/activemq/commits/508128e3e64aeb0c09339172aabb8dbd3434980c",
    "html_url": "https://github.com/apache/activemq/commit/508128e3e64aeb0c09339172aabb8dbd3434980c",
    "comments_url": "https://api.github.com/repos/apache/activemq/commits/508128e3e64aeb0c09339172aabb8dbd3434980c/comments",
    "author": {
        "login": "jstrachan",
        "id": 30140,
        "node_id": "MDQ6VXNlcjMwMTQw",
        "avatar_url": "https://avatars.githubusercontent.com/u/30140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jstrachan",
        "html_url": "https://github.com/jstrachan",
        "followers_url": "https://api.github.com/users/jstrachan/followers",
        "following_url": "https://api.github.com/users/jstrachan/following{/other_user}",
        "gists_url": "https://api.github.com/users/jstrachan/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jstrachan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jstrachan/subscriptions",
        "organizations_url": "https://api.github.com/users/jstrachan/orgs",
        "repos_url": "https://api.github.com/users/jstrachan/repos",
        "events_url": "https://api.github.com/users/jstrachan/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jstrachan/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
    },
    "committer": {
        "login": "jstrachan",
        "id": 30140,
        "node_id": "MDQ6VXNlcjMwMTQw",
        "avatar_url": "https://avatars.githubusercontent.com/u/30140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jstrachan",
        "html_url": "https://github.com/jstrachan",
        "followers_url": "https://api.github.com/users/jstrachan/followers",
        "following_url": "https://api.github.com/users/jstrachan/following{/other_user}",
        "gists_url": "https://api.github.com/users/jstrachan/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jstrachan/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jstrachan/subscriptions",
        "organizations_url": "https://api.github.com/users/jstrachan/orgs",
        "repos_url": "https://api.github.com/users/jstrachan/repos",
        "events_url": "https://api.github.com/users/jstrachan/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jstrachan/received_events",
        "type": "User",
        "user_view_type": "public",
        "site_admin": false
    },
    "parents": [
        {
            "sha": "f65484408ee0303bfa7c715302ca512a8f80645c",
            "url": "https://api.github.com/repos/apache/activemq/commits/f65484408ee0303bfa7c715302ca512a8f80645c",
            "html_url": "https://github.com/apache/activemq/commit/f65484408ee0303bfa7c715302ca512a8f80645c"
        }
    ],
    "stats": {
        "total": 125,
        "additions": 83,
        "deletions": 42
    },
    "files": [
        {
            "sha": "ad986bf9f6e5106541a0c5ee3e758be2cb2abe2b",
            "filename": "activemq-web-console/pom.xml",
            "status": "modified",
            "additions": 49,
            "deletions": 31,
            "changes": 80,
            "blob_url": "https://github.com/apache/activemq/blob/508128e3e64aeb0c09339172aabb8dbd3434980c/activemq-web-console%2Fpom.xml",
            "raw_url": "https://github.com/apache/activemq/raw/508128e3e64aeb0c09339172aabb8dbd3434980c/activemq-web-console%2Fpom.xml",
            "contents_url": "https://api.github.com/repos/apache/activemq/contents/activemq-web-console%2Fpom.xml?ref=508128e3e64aeb0c09339172aabb8dbd3434980c",
            "patch": "@@ -18,7 +18,7 @@\n -->\n \n <project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"\n-  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\">\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\">\n \n   <modelVersion>4.0.0</modelVersion>\n \n@@ -39,16 +39,16 @@\n         <groupId>org.apache.maven.plugins</groupId>\n         <artifactId>maven-war-plugin</artifactId>\n         <configuration>\n-           <warSourceExcludes>\n-           \tWEB-INF/lib/activation*.jar,\n-           \tWEB-INF/lib/activeio*.jar,\n-           \tWEB-INF/lib/activemq-console*.jar,\n-           \tWEB-INF/lib/activemq-core*.jar,\n-           \tWEB-INF/lib/activemq-xmpp*.jar,\n-           \tWEB-INF/lib/geronimo*.jar,\n-           \tWEB-INF/lib/xml-apis*.jar,\n-           \tWEB-INF/lib/xerces*.jar\n-           </warSourceExcludes>\n+          <warSourceExcludes>\n+            WEB-INF/lib/activation*.jar,\n+            WEB-INF/lib/activeio*.jar,\n+            WEB-INF/lib/activemq-console*.jar,\n+            WEB-INF/lib/activemq-core*.jar,\n+            WEB-INF/lib/activemq-xmpp*.jar,\n+            WEB-INF/lib/geronimo*.jar,\n+            WEB-INF/lib/xml-apis*.jar,\n+            WEB-INF/lib/xerces*.jar\n+          </warSourceExcludes>\n         </configuration>\n       </plugin>\n       <plugin>\n@@ -62,39 +62,39 @@\n               <maxIdleTime>60000</maxIdleTime>\n             </connector>\n           </connectors>\n-          \n+\n           <webAppConfig>\n             <contextPath>/</contextPath>\n           </webAppConfig>\n-          \n+\n           <systemProperties>\n             <!-- enable easy connection to JConsole -->\n             <systemProperty>\n               <name>com.sun.management.jmxremote</name>\n               <value></value>\n             </systemProperty>\n-             \n-             <!-- Start an own broker -->\n+\n+            <!-- Start an own broker -->\n             <systemProperty>\n               <name>webconsole.type</name>\n               <value>embedded</value>\n             </systemProperty>\n \n-<!--\n-   Use the following configuration to connect to a remote broker using JMX\n-            <systemProperty>\n-              <name>webconsole.type</name>\n-              <value>properties</value>\n-            </systemProperty>\n-            <systemProperty>\n-              <name>webconsole.jms.url</name>\n-              <value>tcp://localhost:61616</value>\n-            </systemProperty>\n-            <systemProperty>\n-              <name>webconsole.jmx.url</name>\n-              <value>service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi</value>\n-            </systemProperty>\n--->\n+            <!--\n+               Use the following configuration to connect to a remote broker using JMX\n+                        <systemProperty>\n+                          <name>webconsole.type</name>\n+                          <value>properties</value>\n+                        </systemProperty>\n+                        <systemProperty>\n+                          <name>webconsole.jms.url</name>\n+                          <value>tcp://localhost:61616</value>\n+                        </systemProperty>\n+                        <systemProperty>\n+                          <name>webconsole.jmx.url</name>\n+                          <value>service:jmx:rmi:///jndi/rmi://localhost:1099/jmxrmi</value>\n+                        </systemProperty>\n+            -->\n           </systemProperties>\n           <scanIntervalSeconds>10</scanIntervalSeconds>\n         </configuration>\n@@ -191,10 +191,28 @@\n     </dependency>\n \n     <!-- enable commons-logging when inside jetty6:run -->\n+    <!--\n+    <dependency>\n+        <groupId>org.slf4j</groupId>\n+        <artifactId>jcl104-over-slf4j</artifactId>\n+        <version>1.5.0</version>\n+    </dependency>\n+    -->\n+    <!--\n+        <dependency>\n+          <groupId>org.slf4j</groupId>\n+          <artifactId>slf4j-jcl</artifactId>\n+        </dependency>\n+    -->\n     <dependency>\n       <groupId>org.slf4j</groupId>\n-      <artifactId>slf4j-jcl</artifactId>\n+      <artifactId>slf4j-api</artifactId>\n     </dependency>\n+    <dependency>\n+      <groupId>org.slf4j</groupId>\n+      <artifactId>slf4j-log4j12</artifactId>\n+    </dependency>\n+\n     <dependency>\n       <groupId>log4j</groupId>\n       <artifactId>log4j</artifactId>"
        },
        {
            "sha": "399ca509bb78299ac3f7e76e509551ee8924621f",
            "filename": "activemq-web-console/src/main/java/org/apache/activemq/web/handler/BindingBeanNameUrlHandlerMapping.java",
            "status": "modified",
            "additions": 19,
            "deletions": 7,
            "changes": 26,
            "blob_url": "https://github.com/apache/activemq/blob/508128e3e64aeb0c09339172aabb8dbd3434980c/activemq-web-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Factivemq%2Fweb%2Fhandler%2FBindingBeanNameUrlHandlerMapping.java",
            "raw_url": "https://github.com/apache/activemq/raw/508128e3e64aeb0c09339172aabb8dbd3434980c/activemq-web-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Factivemq%2Fweb%2Fhandler%2FBindingBeanNameUrlHandlerMapping.java",
            "contents_url": "https://api.github.com/repos/apache/activemq/contents/activemq-web-console%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Factivemq%2Fweb%2Fhandler%2FBindingBeanNameUrlHandlerMapping.java?ref=508128e3e64aeb0c09339172aabb8dbd3434980c",
            "patch": "@@ -22,6 +22,7 @@\n import org.apache.commons.logging.LogFactory;\n import org.springframework.web.bind.ServletRequestDataBinder;\n import org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping;\n+import org.springframework.web.servlet.HandlerExecutionChain;\n \n /**\n  * @version $Revision$\n@@ -33,17 +34,28 @@ protected Object getHandlerInternal(HttpServletRequest request) throws Exception\n         Object object = super.getHandlerInternal(request);\n \n         if (object instanceof String) {\n-            String handlerName = (String)object;\n+            String handlerName = (String) object;\n             object = getApplicationContext().getBean(handlerName);\n         }\n+        if (object instanceof HandlerExecutionChain) {\n+            HandlerExecutionChain handlerExecutionChain = (HandlerExecutionChain) object;\n+            object = handlerExecutionChain.getHandler();\n+        }\n \n-        ServletRequestDataBinder binder = new ServletRequestDataBinder(object, \"request\");\n-        binder.bind(request);\n-        binder.setIgnoreUnknownFields(true);\n-        if (LOG.isDebugEnabled()) {\n-            LOG.debug(\"Bound POJO is now: \" + object);\n+        if (object != null) {\n+            ServletRequestDataBinder binder = new ServletRequestDataBinder(object, \"request\");\n+            try {\n+                binder.bind(request);\n+                binder.setIgnoreUnknownFields(true);\n+                if (LOG.isDebugEnabled()) {\n+                    LOG.debug(\"Bound POJO is now: \" + object);\n+                }\n+            }\n+            catch (Exception e) {\n+                LOG.warn(\"Caught: \" + e, e);\n+                throw e;\n+            }\n         }\n         return object;\n     }\n-\n }"
        },
        {
            "sha": "72b9c4f8217d7a212ad433205317b6f2d31cb906",
            "filename": "activemq-web/src/main/java/org/apache/activemq/web/DestinationFacade.java",
            "status": "modified",
            "additions": 8,
            "deletions": 1,
            "changes": 9,
            "blob_url": "https://github.com/apache/activemq/blob/508128e3e64aeb0c09339172aabb8dbd3434980c/activemq-web%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Factivemq%2Fweb%2FDestinationFacade.java",
            "raw_url": "https://github.com/apache/activemq/raw/508128e3e64aeb0c09339172aabb8dbd3434980c/activemq-web%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Factivemq%2Fweb%2FDestinationFacade.java",
            "contents_url": "https://api.github.com/repos/apache/activemq/contents/activemq-web%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Factivemq%2Fweb%2FDestinationFacade.java?ref=508128e3e64aeb0c09339172aabb8dbd3434980c",
            "patch": "@@ -61,7 +61,14 @@ public void addDestination() throws Exception {\n     // Properties\n     // -------------------------------------------------------------------------\n     public BrokerViewMBean getBrokerAdmin() throws Exception {\n-        return brokerFacade.getBrokerAdmin();\n+        if (brokerFacade == null) {\n+            throw new IllegalArgumentException(\"No brokerFacade injected!\");\n+        }\n+        BrokerViewMBean answer = brokerFacade.getBrokerAdmin();\n+        if (answer == null) {\n+            throw new IllegalArgumentException(\"No brokerAdmin on the injected brokerFacade: \" + brokerFacade);\n+        }\n+        return answer;\n     }\n \n     public BrokerFacade getBrokerFacade() {"
        },
        {
            "sha": "4d26869f0e3f002d63116b0f15e5e594207392e4",
            "filename": "pom.xml",
            "status": "modified",
            "additions": 7,
            "deletions": 3,
            "changes": 10,
            "blob_url": "https://github.com/apache/activemq/blob/508128e3e64aeb0c09339172aabb8dbd3434980c/pom.xml",
            "raw_url": "https://github.com/apache/activemq/raw/508128e3e64aeb0c09339172aabb8dbd3434980c/pom.xml",
            "contents_url": "https://api.github.com/repos/apache/activemq/contents/pom.xml?ref=508128e3e64aeb0c09339172aabb8dbd3434980c",
            "patch": "@@ -65,7 +65,7 @@\n     <howl-version>0.1.8</howl-version>\n     <hsqldb-version>1.7.2.2</hsqldb-version>\n     <jdom-version>1.0</jdom-version>\n-    <jetty-version>6.1.4</jetty-version>\n+    <jetty-version>6.1.9</jetty-version>\n     <jmock-version>1.0.1</jmock-version>\n     <junit-version>3.8.1</junit-version>\n     <jxta-version>2.0</jxta-version>\n@@ -75,8 +75,7 @@\n     <p2psockets-version>1.1.2</p2psockets-version>\n     <regexp-version>1.3</regexp-version>\n     <rome-version>0.8</rome-version>\n-    <slf4j-version>1.4.0</slf4j-version>\n-    <!--<slf4j-version>1.0-rc5</slf4j-version>-->\n+    <slf4j-version>1.5.0</slf4j-version>\n     <stax-version>1.2.0</stax-version>\n     <xalan-version>2.6.0</xalan-version>\n     <xmlbeans-version>2.0.0-beta1</xmlbeans-version>\n@@ -847,6 +846,11 @@\n         <artifactId>slf4j-jcl</artifactId>\n         <version>${slf4j-version}</version>\n       </dependency>\n+      <dependency>\n+        <groupId>org.slf4j</groupId>\n+        <artifactId>slf4j-log4j12</artifactId>\n+        <version>${slf4j-version}</version>\n+      </dependency>\n       <dependency>\n         <groupId>opensymphony</groupId>\n         <artifactId>sitemesh</artifactId>"
        }
    ]
}